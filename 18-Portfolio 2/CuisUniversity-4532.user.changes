

----STARTUP---- (17 May 2021 20:02:01) as C:\Users\ezequ\Desktop\windows64\CuisUniversity-4532.image!


----End fileIn of C:\Users\ezequ\Desktop\windows64\ejs\17-Portfolio 1\Portfolio-Ejercicio.st----!

TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioTest category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 20:17:18'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:18:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 20:18:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:18:26'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/17/2021 20:21:40' prior: 50961868!
balance

	^transactions sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:40'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 20:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:40'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:41'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 20:21:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:21:41'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/17/2021 20:22:43' prior: 50961924!
balance

	^transactions sum: [ :aTransaction | 
		(aTransaction isKindOf: Withdraw) ifTrue:[-1*aTransaction value].
		(aTransaction isKindOf: Deposit) ifTrue:[aTransaction value].
		] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:22:45'!
ERROR!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/17/2021 20:24:58' prior: 50961990!
balance

	|totalWithdraw totalDeposit|

	totalWithdraw := (transactions select: [:aTransaction | 		(aTransaction isKindOf: Withdraw)]) sum: [:aTransaction | aTransaction value] ifEmpty: [0].
	totalDeposit := (transactions select: [:aTransaction | 		(aTransaction isKindOf: Deposit)]) sum: [:aTransaction | aTransaction value] ifEmpty: [0].
	^totalDeposit - totalWithdraw.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:25:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:25:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 20:25:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 20:25:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 20:25:08'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 20:29:01'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioTest methodsFor: 'no messages' stamp: 'ET 5/17/2021 20:28:52'!
test01

	|portfolio|
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:29:05'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:29:18'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:29:29' prior: 50962101!
balance
	
	^0.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:29:32'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:29:32'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:30:40'!
test02

	|portfolio account|
	
	account := ReceptiveAccount new.
	
	portfolio := Portfolio new.
	
	
	self assert: 0 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:31:47' prior: 50962114!
test02

	|portfolio account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	portfolio := Portfolio new.
	
	portfolio addAccount: account.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:31:49'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:32:01'!
addAccount: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 20:33:26'!
Object subclass: #Portfolio
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:33:20' prior: 50962134!
addAccount: aReceptiveAccount

	account := aReceptiveAccount.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:33:58'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:34:51' prior: 50962106!
balance
	
	^account ifNil:[^0] ifNotNil:[account balance].! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:34:54'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:34:54'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:34:54'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:36:29'!
test03

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addAccount: account1.
	portfolio addAccount: account2.
	
	self assert: 200 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:36:30'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 20:37:10'!
Object subclass: #Portfolio
	instanceVariableNames: 'account accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:37:08' prior: 50962147!
addAccount: aReceptiveAccount

	accounts add: aReceptiveAccount.! !
!Portfolio methodsFor: 'nil' stamp: 'ET 5/17/2021 20:38:08' overrides: 16896425!
initialize

	accounts := OrderedCollection new.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:38:13'!
ERROR!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:38:28'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:39:20' prior: 50962155!
balance
	
	^accounts sum: [:anAccount | anAccount balance] ifEmpty: [0].! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:39:22'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:39:22'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:39:23'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:39:23'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:45:21'!
test04

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addAccount: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:45:23'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:45:32'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:45:49' prior: 50962234!
hasRegistered: aDeposit 
	
	^true.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:45:51'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:45:51'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:45:51'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:45:51'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:45:51'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:46:14'!
test05

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addAccount: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:46:54' prior: 50962255!
test05

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addAccount: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 20:46:55'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:47:41' prior: 50962239!
hasRegistered: aDeposit 
	
	^accounts first hasRegistered: aDeposit.! !

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 20:47:43'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:48:33' prior: 50962266!
test05

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addAccount: account1.
	
	portfolio addAccount: account2.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:48:48'!
test06

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addAccount: account1.
	
	portfolio addAccount: account2.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:46:54' prior: 50962299!
test05

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addAccount: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:49:25' prior: 50962312!
test06

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addAccount: account1.
	
	portfolio addAccount: account2.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:49:32' prior: 50962336!
test06

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addAccount: account1.
	
	portfolio addAccount: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 20:49:35'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:50:35' prior: 50962279!
hasRegistered: aDeposit 
	
	^accounts detect: [:anAccount | anAccount hasRegistered: aDeposit] ifNone: [false].! !

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 20:50:37'!
ERROR!

portfolio hasRegistered: deposit!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:52:04' prior: 50962366!
hasRegistered: aDeposit 
	
	^accounts anySatisfy: [:anAccount | anAccount hasRegistered: aDeposit].! !

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 20:52:08'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:54:08'!
test07

	|portfolio account1 deposit1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	
	deposit1 := Deposit register: 50 on: account1.
	
	portfolio addAccount: account1.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit1).
! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 20:54:11'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:54:20'!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:56:58' prior: 50962413!
transactions
	^accounts ifNotEmpty: [accounts first transactions]  ifEmpty: [OrderedCollection new].! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 20:57:02'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 20:58:23'!
test08

	|portfolio account1 account2 deposit withdraw |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account1.
	
	withdraw := Withdraw register: 20 on: account2.
	
	portfolio addAccount: account1.
	portfolio addAccount: account2.
		
	self assert: 2 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
	self assert: (portfolio transactions includes: withdraw).
! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 20:58:24'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:05:41' prior: 50962418!
transactions

	|transactions|
	transactions := OrderedCollection new.
	accounts do: [:anAccount | transactions addAllFirst: anAccount transactions].
	
	^transactions.! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 21:05:43'!
PASSED!

----SNAPSHOT----(17 May 2021 21:37:11) CuisUniversity-4532.image priorSource: 20159967!
!ReceptiveAccount methodsFor: 'balance' stamp: 'HAW 5/23/2019 15:19:32' prior: 50962003!
balance

	^transactions sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/17/2021 21:45:28' prior: 50962497!
balance

	^transactions inject:0 into: [:balance :aTransaction |  aTransaction xxx: balance ].! !
!Deposit methodsFor: 'value' stamp: 'ET 5/17/2021 21:45:54'!
xxx: balance

	^balance + value.! !
!Withdraw methodsFor: 'value' stamp: 'ET 5/17/2021 21:46:04'!
xxx: balance

	^balance - value.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/17/2021 21:46:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/17/2021 21:46:08'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/17/2021 21:46:23' prior: 50962503!
balance

	^transactions inject: 0 into: [:balance :aTransaction |  aTransaction xxx: balance ].! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:49:37'!
test09

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent.
! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:49:44'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:49:55'!
addPortfolio: aPortfolio 
	self shouldBeImplemented.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:50:14' prior: 50962549!
test09

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:50:21' prior: 50962561!
addPortfolio: aPortfolio 
	
	! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:50:23'!
FAILURE!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:50:28'!
FAILURE!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:50:42'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:51:21'!
test10

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := 
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:51:48' prior: 50962608!
test10

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addAccount: account.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:52:04' prior: 50962619!
test10

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addAccount: account.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:52:08'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 21:52:57'!
Object subclass: #Portfolio
	instanceVariableNames: 'account accounts portfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:52:56' prior: 50962576!
addPortfolio: aPortfolio 
	
	portfolio := aPortfolio.
	! !

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:53:01'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:53:31' prior: 50962206!
balance
	
	^(accounts sum: [:anAccount | anAccount balance] ifEmpty: [0]) + portfolio balance.! !

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:53:34'!
ERROR!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:53:45'!
ERROR!

portfolio balance.!

portfolio!

portfolioChild!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:57:09'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:57:40' prior: 50962667!
balance
	
	^(accounts sum: [:anAccount | anAccount balance] ifEmpty: [0]) + (portfolio ifNotNil:[portfolio balance] ifNil: [0]).! !

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 21:57:42'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:59:17'!
test11

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addAccount: account1.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addAccount: account2.
	
	portfolioParent addPortfolio: portfolioChild1.
	
	portfolioParent addPortfolio: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test11 stamp: 'ET 5/17/2021 21:59:26'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/17/2021 22:00:00'!
Object subclass: #Portfolio
	instanceVariableNames: 'account accounts portfolio portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 21:59:59' prior: 50962659!
addPortfolio: aPortfolio 
	
	portfolios add: aPortfolio.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 22:00:38' prior: 50962196 overrides: 16896425!
initialize

	accounts := OrderedCollection new.
	
	portfolios := OrderedCollection new.! !

!testRun: #PortfolioTest #test11 stamp: 'ET 5/17/2021 22:00:55'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/17/2021 22:01:53' prior: 50962682!
balance
	
	^(accounts sum: [:anAccount | anAccount balance] ifEmpty: [0])
	+(portfolios sum: [:aPortfolio | aPortfolio balance] ifEmpty: [0]).! !

!testRun: #PortfolioTest #test11 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/17/2021 22:01:58'!
PASSED!

----End fileIn of C:\Users\ezequ\Desktop\windows64\Portfolio-Ejercicio.st----!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) xxx:
				(balance
					cover: (86 to: 92)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 84} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/20/2021 20:04:12'!
PASSED!
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) +
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:04:12'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) -
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:04:12'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/20/2021 20:04:12'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/20/2021 20:04:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/20/2021 20:04:12'!
PASSED!
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/20/2021 20:04:12'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:06:19'!
PASSED!

Object subclass: #Portfolio
	instanceVariableNames: ' accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/20/2021 20:14:09'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:14:17'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:14:18'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:14:18'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:20:06'!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := Portfolio new.
	
	deposit := Deposit.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:20:36' prior: 50963572!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := Portfolio new.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:21:30' prior: 50963583!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addPortfolio: portfolioChild.
	
	account := Portfolio new.
	
	portfolioParent addAccount: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:22:12'!
ERROR!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:22:35' prior: 50963595!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addPortfolio: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addAccount: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:22:38'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:22:55'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:38:38'!
test13

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addAccount: account.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:38:39'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:39:27' prior: 50963322!
hasRegistered: aDeposit 
	
	^(accounts anySatisfy: [:anAccount | anAccount hasRegistered: aDeposit])
	or: [portfolios anySatisfy: [:anAccount | anAccount hasRegistered: aDeposit]].! !

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:39:29'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:43:04'!
test14

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account.
	
	portfolioChild addAccount: account.
	
	portfolioParent addPortfolio: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).! !

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 20:43:06'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:44:27' prior: 50963335!
transactions

	|transactions|
	transactions := OrderedCollection new.
	accounts do: [:anAccount | transactions addAllFirst: anAccount transactions].
	portfolios do: [:aPortfolio | transactions addAllFirst: aPortfolio transactions].
	
	^transactions.! !

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 20:45:08'!
PASSED!
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (26 to: 42)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{44 to: 46})
		cover: (14 to: 21)
		declaredAt: (14 to: 21).
	(portfolios _ [
	(OrderedCollection
		cover: (66 to: 82)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{84 to: 86})
		cover: (52 to: 61)
		declaredAt: (52 to: 61).! !
!Behavior method!
balance
	^ [
	([
	(accounts
		cover: (14 to: 21)
		declaredAt: (14 to: 21))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (42 to: 50)
				declaredAt: (30 to: 38)) balance ] valueCoveringAll:
				{52 to: 58} ]
		ifEmpty: [
			0 coverAll:
				{71 to: 71} ]] valueCoveringAll:
		{23 to: 26. 61 to: 68}) +
		([
		(portfolios
			cover: (78 to: 87)
			declaredAt: (78 to: 87))
			sum: [ :aPortfolio |
				[
				(aPortfolio
					cover: (109 to: 118)
					declaredAt: (96 to: 105)) balance ] valueCoveringAll:
					{120 to: 126} ]
			ifEmpty: [
				0 coverAll:
					{139 to: 139} ]] valueCoveringAll:
			{89 to: 92. 129 to: 136}) ] valueCoveringAll:
		{76 to: 76}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addAccount: aReceptiveAccount
	[
	(accounts
		cover: (33 to: 40)
		declaredAt: (33 to: 40)) add:
		(aReceptiveAccount
			cover: (47 to: 63)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{42 to: 45}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) xxx:
				(balance
					cover: (86 to: 92)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 84} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) +
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
hasRegistered: aDeposit
	^ [
	([
	(accounts
		cover: (31 to: 38)
		declaredAt: (31 to: 38)) anySatisfy: [ :anAccount |
		[
		(anAccount
			cover: (66 to: 74)
			declaredAt: (54 to: 62)) hasRegistered:
			(aDeposit
				cover: (91 to: 98)
				declaredAt: (16 to: 23)) ] valueCoveringAll:
			{76 to: 89} ]] valueCoveringAll:
		{40 to: 50}) or: [
		[
		(portfolios
			cover: (108 to: 117)
			declaredAt: (108 to: 117)) anySatisfy: [ :anAccount |
			[
			(anAccount
				cover: (145 to: 153)
				declaredAt: (133 to: 141)) hasRegistered:
				(aDeposit
					cover: (170 to: 177)
					declaredAt: (16 to: 23)) ] valueCoveringAll:
				{155 to: 168} ]] valueCoveringAll:
			{119 to: 129} ]] valueCoveringAll:
		{103 to: 105}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(accounts
		cover: (72 to: 79)
		declaredAt: (72 to: 79)) do: [ :anAccount |
		[
		(transactions
			cover: (99 to: 110)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(anAccount
				cover: (125 to: 133)
				declaredAt: (87 to: 95)) transactions ] valueCoveringAll:
				{135 to: 146}) ] valueCoveringAll:
			{112 to: 123} ]] valueCoveringAll:
		{81 to: 83}.
	[
	(portfolios
		cover: (151 to: 160)
		declaredAt: (151 to: 160)) do: [ :aPortfolio |
		[
		(transactions
			cover: (181 to: 192)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(aPortfolio
				cover: (207 to: 216)
				declaredAt: (168 to: 177)) transactions ] valueCoveringAll:
				{218 to: 229}) ] valueCoveringAll:
			{194 to: 205} ]] valueCoveringAll:
		{162 to: 164}.
	^ transactions
		cover: (237 to: 248)
		declaredAt: (17 to: 28).! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
addPortfolio: aPortfolio
	[
	(portfolios
		cover: (30 to: 39)
		declaredAt: (30 to: 39)) add:
		(aPortfolio
			cover: (46 to: 55)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{41 to: 44}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 20:45:32'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) xxx:
				(balance
					cover: (86 to: 92)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 84} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/20/2021 20:49:09'!
PASSED!
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) +
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:49:09'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) -
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:49:09'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/20/2021 20:49:10'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/20/2021 20:49:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/20/2021 20:49:10'!
PASSED!
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/20/2021 20:49:10'!
PASSED!
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (26 to: 42)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{44 to: 46})
		cover: (14 to: 21)
		declaredAt: (14 to: 21).
	(portfolios _ [
	(OrderedCollection
		cover: (66 to: 82)
		declaredAt: (26 to: 42)) new ] valueCoveringAll:
		{84 to: 86})
		cover: (52 to: 61)
		declaredAt: (52 to: 61).! !
!Behavior method!
balance
	^ [
	([
	(accounts
		cover: (14 to: 21)
		declaredAt: (14 to: 21))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (42 to: 50)
				declaredAt: (30 to: 38)) balance ] valueCoveringAll:
				{52 to: 58} ]
		ifEmpty: [
			0 coverAll:
				{71 to: 71} ]] valueCoveringAll:
		{23 to: 26. 61 to: 68}) +
		([
		(portfolios
			cover: (78 to: 87)
			declaredAt: (78 to: 87))
			sum: [ :aPortfolio |
				[
				(aPortfolio
					cover: (109 to: 118)
					declaredAt: (96 to: 105)) balance ] valueCoveringAll:
					{120 to: 126} ]
			ifEmpty: [
				0 coverAll:
					{139 to: 139} ]] valueCoveringAll:
			{89 to: 92. 129 to: 136}) ] valueCoveringAll:
		{76 to: 76}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addAccount: aReceptiveAccount
	[
	(accounts
		cover: (33 to: 40)
		declaredAt: (33 to: 40)) add:
		(aReceptiveAccount
			cover: (47 to: 63)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{42 to: 45}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) xxx:
				(balance
					cover: (86 to: 92)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 84} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) +
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
hasRegistered: aDeposit
	^ [
	([
	(accounts
		cover: (31 to: 38)
		declaredAt: (31 to: 38)) anySatisfy: [ :anAccount |
		[
		(anAccount
			cover: (66 to: 74)
			declaredAt: (54 to: 62)) hasRegistered:
			(aDeposit
				cover: (91 to: 98)
				declaredAt: (16 to: 23)) ] valueCoveringAll:
			{76 to: 89} ]] valueCoveringAll:
		{40 to: 50}) or: [
		[
		(portfolios
			cover: (108 to: 117)
			declaredAt: (108 to: 117)) anySatisfy: [ :anAccount |
			[
			(anAccount
				cover: (145 to: 153)
				declaredAt: (133 to: 141)) hasRegistered:
				(aDeposit
					cover: (170 to: 177)
					declaredAt: (16 to: 23)) ] valueCoveringAll:
				{155 to: 168} ]] valueCoveringAll:
			{119 to: 129} ]] valueCoveringAll:
		{103 to: 105}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(accounts
		cover: (72 to: 79)
		declaredAt: (72 to: 79)) do: [ :anAccount |
		[
		(transactions
			cover: (99 to: 110)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(anAccount
				cover: (125 to: 133)
				declaredAt: (87 to: 95)) transactions ] valueCoveringAll:
				{135 to: 146}) ] valueCoveringAll:
			{112 to: 123} ]] valueCoveringAll:
		{81 to: 83}.
	[
	(portfolios
		cover: (151 to: 160)
		declaredAt: (151 to: 160)) do: [ :aPortfolio |
		[
		(transactions
			cover: (181 to: 192)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(aPortfolio
				cover: (207 to: 216)
				declaredAt: (168 to: 177)) transactions ] valueCoveringAll:
				{218 to: 229}) ] valueCoveringAll:
			{194 to: 205} ]] valueCoveringAll:
		{162 to: 164}.
	^ transactions
		cover: (237 to: 248)
		declaredAt: (17 to: 28).! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
addPortfolio: aPortfolio
	[
	(portfolios
		cover: (30 to: 39)
		declaredAt: (30 to: 39)) add:
		(aPortfolio
			cover: (46 to: 55)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{41 to: 44}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
xxx: balance
	^ [
	(balance
		cover: (17 to: 23)
		declaredAt: (6 to: 12)) -
		(value
			cover: (27 to: 31)
			declaredAt: (27 to: 31)) ] valueCoveringAll:
		{25 to: 25}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/20/2021 20:49:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/20/2021 20:49:44'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:56:26'!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addAccount: account.
	
	[portfolio addAccount: account]
	on: Error
	do: [].! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 20:59:01' prior: 50964415!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addAccount: account.
	
	self should:[portfolio addAccount: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: Portfolio canNotAddAlreadyAddedAccount ].! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 20:59:09'!
FAILURE!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 20:59:38'!
FAILURE!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 20:59:51'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 21:02:35' prior: 50963305!
addAccount: aReceptiveAccount
	
	(accounts includes: aReceptiveAccount) ifTrue: [self ].
	
	accounts add: aReceptiveAccount.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 21:04:52' prior: 50964444!
addAccount: aReceptiveAccount
	
	(accounts includes: aReceptiveAccount) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	accounts add: aReceptiveAccount.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 21:05:03'!
ERROR!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 21:05:13'!
canNotAddAlreadyAddedAccount
	self shouldBeImplemented.! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 21:07:07' prior: 50964462!
canNotAddAlreadyAddedAccount
	
	^'This account has been added in the portfolio before!!!!'! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 21:07:09'!
FAILURE!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/20/2021 21:07:42' prior: 50964424!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addAccount: account.
	
	self should:[portfolio addAccount: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedAccount) ].! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 21:07:45'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/20/2021 21:39:32'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/20/2021 21:39:32'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/20/2021 21:39:32'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/20/2021 21:39:33'!
PASSED!

----STARTUP---- (22 May 2021 17:22:50) as C:\Users\ezequ\Desktop\windows64\CuisUniversity-4532.image!


!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:30:15'!
PASSED!
!Deposit methodsFor: 'value' stamp: 'ET 5/22/2021 17:32:09'!
modifiesBalance: balance

	^balance + value.! !
!Withdraw methodsFor: 'value' stamp: 'ET 5/22/2021 17:32:18'!
modifiesBalance: balance

	^balance - value.! !
!AccountTransaction methodsFor: 'value' stamp: 'ET 5/22/2021 17:32:35'!
modifiesBalance: balance 

	self subclassResponsibility ! !

!methodRemoval: Deposit #xxx: stamp: 'ET 5/22/2021 17:32:53'!
xxx: balance

	^balance + value.!

!methodRemoval: Withdraw #xxx: stamp: 'ET 5/22/2021 17:33:03'!
xxx: balance

	^balance - value.!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 17:33:11' prior: 50966863!
balance

	^transactions inject: 0 into: [:balance :aTransaction |  aTransaction modifiesBalance: balance ].! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:33:20'!
PASSED!

Object subclass: #FinancialEntity
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialEntity category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:34:45'!
Object subclass: #FinancialEntity
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:34:55'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialEntity subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:35:05'!
FinancialEntity subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!FinancialEntity methodsFor: 'no messages' stamp: 'ET 5/22/2021 17:35:47'!
balance

	self subclassResponsibility.! !
!FinancialEntity methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:36:18'!
hasRegistered: aTransaction

	self subclassResponsibility.! !
!FinancialEntity methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:36:31'!
transactions

	self subclassResponsibility.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:36:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:36:39'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:37:50' prior: 50966796 overrides: 50967371!
hasRegistered: aTransaction 
	
	^(accounts anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction])
	or: [portfolios anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction]].! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:37:55'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:40:11'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:40:11' prior: 50966776!
addAccount: aReceptiveAccount
	
	(financialEntities includes: aReceptiveAccount) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aReceptiveAccount.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:40:11' prior: 50966811 overrides: 50967376!
transactions

	|transactions|
	transactions := OrderedCollection new.
	financialEntities do: [:anAccount | transactions addAllFirst: anAccount transactions].
	portfolios do: [:aPortfolio | transactions addAllFirst: aPortfolio transactions].
	
	^transactions.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:40:12' prior: 50966805 overrides: 16896425!
initialize

	financialEntities := OrderedCollection new.
	
	portfolios := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:40:12' prior: 50967442 overrides: 50967371!
hasRegistered: aTransaction 
	
	^(financialEntities anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction])
	or: [portfolios anySatisfy: [:anAccount | anAccount hasRegistered: aTransaction]].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:40:12' prior: 50966789 overrides: 50967367!
balance
	
	^(financialEntities sum: [:anAccount | anAccount balance] ifEmpty: [0])
	+(portfolios sum: [:aPortfolio | aPortfolio balance] ifEmpty: [0]).! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:40:44'!
PASSED!

FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:41:02'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:41:36'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:41:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:41:39'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:42:59'!
addFinancialEntity: aFinancialEntity
	
	(financialEntities includes: aFinancialEntity) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aFinancialEntity.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:43:03'!
PASSED!

!methodRemoval: Portfolio #addFinancialEntity: stamp: 'ET 5/22/2021 17:46:36'!
addFinancialEntity: aFinancialEntity
	
	(financialEntities includes: aFinancialEntity) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aFinancialEntity.!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05'!
addFinancialEntity: aReceptiveAccount
	
	(financialEntities includes: aReceptiveAccount) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aReceptiveAccount.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966514!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addPortfolio: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966492!
test11

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addFinancialEntity: account1.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addFinancialEntity: account2.
	
	portfolioParent addPortfolio: portfolioChild1.
	
	portfolioParent addPortfolio: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966378!
test02

	|portfolio account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966528!
test13

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966478!
test10

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addPortfolio: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966423!
test06

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966402!
test04

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966449!
test08

	|portfolio account1 account2 deposit withdraw |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account1.
	
	withdraw := Withdraw register: 20 on: account2.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
		
	self assert: 2 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
	self assert: (portfolio transactions includes: withdraw).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966436!
test07

	|portfolio account1 deposit1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	
	deposit1 := Deposit register: 50 on: account1.
	
	portfolio addFinancialEntity: account1.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit1).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966388!
test03

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
	
	self assert: 200 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966413!
test05

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966542!
test14

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addPortfolio: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:05' prior: 50966559!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addFinancialEntity: account.
	
	self should:[portfolio addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedAccount) ].! !

!methodRemoval: Portfolio #addAccount: stamp: 'ET 5/22/2021 17:47:05'!
addAccount: aReceptiveAccount
	
	(financialEntities includes: aReceptiveAccount) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aReceptiveAccount.!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:47:28' prior: 50967795!
addFinancialEntity: aFinancialEntity
	
	(financialEntities includes: aFinancialEntity) ifTrue: [self error: self class canNotAddAlreadyAddedAccount].
	
	financialEntities add: aFinancialEntity.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:48:32' prior: 50966468!
test09

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:48:42' prior: 50967869!
test10

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:48:57' prior: 50967820!
test11

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addFinancialEntity: account1.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addFinancialEntity: account2.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:49:07' prior: 50967805!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:49:16' prior: 50967854!
test13

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 17:49:23' prior: 50967969!
test14

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:49:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:49:30'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolios _ [
	(OrderedCollection
		cover: (75 to: 91)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{93 to: 95})
		cover: (61 to: 70)
		declaredAt: (61 to: 70).! !
!Behavior method!
balance
	^ [
	([
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :anAccount |
			[
			(anAccount
				cover: (51 to: 59)
				declaredAt: (39 to: 47)) balance ] valueCoveringAll:
				{61 to: 67} ]
		ifEmpty: [
			0 coverAll:
				{80 to: 80} ]] valueCoveringAll:
		{32 to: 35. 70 to: 77}) +
		([
		(portfolios
			cover: (87 to: 96)
			declaredAt: (87 to: 96))
			sum: [ :aPortfolio |
				[
				(aPortfolio
					cover: (118 to: 127)
					declaredAt: (105 to: 114)) balance ] valueCoveringAll:
					{129 to: 135} ]
			ifEmpty: [
				0 coverAll:
					{148 to: 148} ]] valueCoveringAll:
			{98 to: 101. 138 to: 145}) ] valueCoveringAll:
		{85 to: 85}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:49:45'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	([
	(financialEntities
		cover: (42 to: 58)
		declaredAt: (42 to: 58)) includes:
		(aFinancialEntity
			cover: (70 to: 85)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{60 to: 68}) ifTrue: [
		[
		(self coverAll:
			{97 to: 100}) error:
			([
			([
			(self coverAll:
				{109 to: 112}) class ] valueCoveringAll:
				{114 to: 118}) canNotAddAlreadyAddedAccount ] valueCoveringAll:
				{120 to: 147}) ] valueCoveringAll:
			{102 to: 107} ]] valueCoveringAll:
		{88 to: 94}.
	[
	(financialEntities
		cover: (154 to: 170)
		declaredAt: (42 to: 58)) add:
		(aFinancialEntity
			cover: (177 to: 192)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{172 to: 175}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:49:45'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:49:45'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	([
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :anAccount |
		[
		(anAccount
			cover: (79 to: 87)
			declaredAt: (67 to: 75)) hasRegistered:
			(aTransaction
				cover: (104 to: 115)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{89 to: 102} ]] valueCoveringAll:
		{53 to: 63}) or: [
		[
		(portfolios
			cover: (125 to: 134)
			declaredAt: (125 to: 134)) anySatisfy: [ :anAccount |
			[
			(anAccount
				cover: (162 to: 170)
				declaredAt: (150 to: 158)) hasRegistered:
				(aTransaction
					cover: (187 to: 198)
					declaredAt: (16 to: 27)) ] valueCoveringAll:
				{172 to: 185} ]] valueCoveringAll:
			{136 to: 146} ]] valueCoveringAll:
		{120 to: 122}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(financialEntities
		cover: (72 to: 88)
		declaredAt: (72 to: 88)) do: [ :anAccount |
		[
		(transactions
			cover: (108 to: 119)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(anAccount
				cover: (134 to: 142)
				declaredAt: (96 to: 104)) transactions ] valueCoveringAll:
				{144 to: 155}) ] valueCoveringAll:
			{121 to: 132} ]] valueCoveringAll:
		{90 to: 92}.
	[
	(portfolios
		cover: (160 to: 169)
		declaredAt: (160 to: 169)) do: [ :aPortfolio |
		[
		(transactions
			cover: (190 to: 201)
			declaredAt: (17 to: 28)) addAllFirst:
			([
			(aPortfolio
				cover: (216 to: 225)
				declaredAt: (177 to: 186)) transactions ] valueCoveringAll:
				{227 to: 238}) ] valueCoveringAll:
			{203 to: 214} ]] valueCoveringAll:
		{171 to: 173}.
	^ transactions
		cover: (246 to: 257)
		declaredAt: (17 to: 28).! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedAccount
	^ 'This account has been added in the portfolio before!!!!' coverAll:
		{34 to: 88}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:49:46'!
PASSED!
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:49:46'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:49:46'!
PASSED!

!methodRemoval: Portfolio #addPortfolio: stamp: 'ET 5/22/2021 17:49:56'!
addPortfolio: aPortfolio 
	
	portfolios add: aPortfolio.
	!

FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 17:50:09'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'initialization' stamp: 'ET 5/22/2021 17:50:15' prior: 50967543 overrides: 16896425!
initialize

	financialEntities := OrderedCollection new.! !
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 17:50:31' prior: 50967531 overrides: 50967376!
transactions

	|transactions|
	transactions := OrderedCollection new.
	financialEntities do: [:aFinancialEntity | transactions addAllFirst: aFinancialEntity transactions].
	
	^transactions.! !
!Portfolio methodsFor: 'testing' stamp: 'ET 5/22/2021 17:50:48' prior: 50967550 overrides: 50967371!
hasRegistered: aTransaction 
	
	^(financialEntities anySatisfy: [:aFinancialEntity | aFinancialEntity hasRegistered: aTransaction])! !
!Portfolio methodsFor: 'balance' stamp: 'ET 5/22/2021 17:51:04' prior: 50967560 overrides: 50967367!
balance
	
	^(financialEntities sum: [:aFinancialEntity | aFinancialEntity balance] ifEmpty: [0])! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 17:51:10'!
PASSED!

----End fileIn of C:\Users\ezequ\Downloads\TDDStateIcon-setBalloonText (1).st----!

----SNAPSHOT----(22 May 2021 17:59:03) CuisUniversity-4532.image priorSource: 20186979!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 18:06:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 18:06:22'!
PASSED!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:16:08'!
canNotAddAlreadyAddedFinancialEntity
	
	^'This account has been added in the portfolio before!!!!'! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:16:08' prior: 50967986!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addFinancialEntity: account.
	
	self should:[portfolio addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:16:08' prior: 50968008!
addFinancialEntity: aFinancialEntity
	
	(financialEntities includes: aFinancialEntity) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity].
	
	financialEntities add: aFinancialEntity.! !

!methodRemoval: Portfolio class #canNotAddAlreadyAddedAccount stamp: 'ET 5/22/2021 18:16:08'!
canNotAddAlreadyAddedAccount
	
	^'This account has been added in the portfolio before!!!!'!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:16:38' prior: 50968638!
canNotAddAlreadyAddedFinancialEntity
	
	^'This financial entity has been added in this structure before!!!!'! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 18:16:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 18:16:43'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:19:30'!
test16

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	self should:[portfolioParent addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:19:52'!
FAILURE!

financialEntities!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:24:10' prior: 50968659!
addFinancialEntity: aFinancialEntity

	self assertFinancialEntityHasNotBeenAdded: aFinancialEntity.
	
	financialEntities add: aFinancialEntity.! !

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:24:22'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:24:47'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:27:38'!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity  = self ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [financialEntities do: [:financialEntity | financialEntity assertFinancialEntityHasNotBeenAdded: aFinancialEntity]].! !
!FinancialEntity methodsFor: 'balance' stamp: 'ET 5/22/2021 18:28:14'!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	self subclassResponsibility.! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 18:28:51' overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	self = aFinancialEntity ifTrue: [self error: FinancialEntity ].! !

!methodRemoval: Portfolio class #canNotAddAlreadyAddedFinancialEntity stamp: 'ET 5/22/2021 18:29:05'!
canNotAddAlreadyAddedFinancialEntity
	
	^'This financial entity has been added in this structure before!!!!'!
!FinancialEntity class methodsFor: 'no messages' stamp: 'ET 5/22/2021 18:29:10'!
canNotAddAlreadyAddedFinancialEntity
	
	^'This financial entity has been added in this structure before!!!!'! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 18:29:23' prior: 50968793 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	self = aFinancialEntity ifTrue: [self error: FinancialEntity canNotAddAlreadyAddedFinancialEntity].! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 18:29:41'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:29:49'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:34:07'!
test17

	|portfolioParent portfolioChild portfolioChild2 account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioChild2 addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioParent addFinancialEntity: portfolioChild2]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:34:10'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:40:17' prior: 50968775 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity  = self ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [financialEntities do: [:financialEntity | financialEntity assertFinancialEntityHasNotBeenAdded: aFinancialEntity].
		
		aFinancialEntity ensureitDoesntHaveAnythingOn: self.
		].! !

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:40:59'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:43:30'!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	self = aPortfolio ifTrue: []
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureitDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:43:52' prior: 50968962!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	aPortfolio includes: self ifTrue: []
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureitDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:44:30' prior: 50968946 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity ensureitDoesntHaveAnythingOn: self.

	aFinancialEntity  = self ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [financialEntities do: [:financialEntity | financialEntity assertFinancialEntityHasNotBeenAdded: aFinancialEntity].
		
		
		].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:44:38'!
includes: aFinancialEntity

	^ aFinancialEntity  = self ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [financialEntities do: [:financialEntity | financialEntity assertFinancialEntityHasNotBeenAdded: aFinancialEntity].
		
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:44:38' prior: 50968982 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity ensureitDoesntHaveAnythingOn: self.

	self includes: aFinancialEntity.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:44:57' prior: 50968972!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: []
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureitDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:45:04' prior: 50969008 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity ensureitDoesntHaveAnythingOn: self.

	"self includes: aFinancialEntity."! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:47:10' prior: 50969016!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureitDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 18:48:56' prior: 50968996!
includes: aFinancialEntity

	^ (aFinancialEntity  = self) or: [financialEntities anySatisfy: [:financialEntity | financialEntity includes: aFinancialEntity]].! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:50:20'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:50:20'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:50:20'!
ERROR!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:50:26'!
ERROR!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 18:52:18'!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 18:52:34'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:52:36'!
ERROR!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:52:36'!
ERROR!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:52:36'!
ERROR!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:52:36'!
ERROR!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:52:36'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:52:36'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:52:36'!
FAILURE!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:52:36'!
FAILURE!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:52:39'!
ERROR!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:55:19'!
ERROR!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:55:19'!
ERROR!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:55:19'!
ERROR!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:55:19'!
ERROR!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:55:19'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:55:19'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:55:19'!
FAILURE!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:55:19'!
FAILURE!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:55:21'!
ERROR!
!ReceptiveAccount methodsFor: 'testing' stamp: 'ET 5/22/2021 18:57:05'!
includes: aFinancialEntity

	^self = aFinancialEntity.
! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 18:57:06'!
PASSED!

----SNAPSHOT----(22 May 2021 18:57:37) CuisUniversity-4532.image priorSource: 20381529!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:01:49'!
test18

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioChild addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:01:54'!
FAILURE!

FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities portfolioParents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ET 5/22/2021 19:03:17'!
FinancialEntity subclass: #Portfolio
	instanceVariableNames: 'financialEntities portfolioParents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'initialization' stamp: 'ET 5/22/2021 19:03:29' prior: 50968474 overrides: 16896425!
initialize

	financialEntities := OrderedCollection new.
	portfolioParents := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:04:22' prior: 50968763!
addFinancialEntity: aFinancialEntity

	self assertFinancialEntityHasNotBeenAdded: aFinancialEntity.
	
	aFinancialEntity addPortfolioParent: self.
	financialEntities add: aFinancialEntity.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:04:51'!
addPortfolioParent: aPortfolio
	
	portfolioParents add: aPortfolio.! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 19:06:59'!
addPortfolioParent: aPortfolio

	"esta nada mas para tenerlo como mensaje polimorfico"! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:07:14'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:07:14'!
FAILURE!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:07:14'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:10:59' prior: 50969027 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	aFinancialEntity ensureitDoesntHaveAnythingOn: self.
	
	portfolioParents do: [:aPortfolio | aPortfolio ensureItDoesntinclude: aFinancialEntity excluding: self].

	"self includes: aFinancialEntity."! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:11:24'!
ensureItDoesntinclude: aFinancialEntity excluding: aPortfolioChild
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:12:50' prior: 50969378!
ensureItDoesntinclude: aFinancialEntity excluding: aPortfolioChild

	^ (aFinancialEntity  = self) or: [
		(financialEntities reject: [:financialEntity | financialEntity = aPortfolioChild]) anySatisfy: [:financialEntity | financialEntity includes: aFinancialEntity]].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:22:48' prior: 50969367 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	portfolioParents ifEmpty: [aFinancialEntity ensureitDoesntHaveAnythingOn: self]
	ifNotEmpty: [portfolioParents do: [:aPortfolio | aPortfolio assertFinancialEntityHasNotBeenAdded: aFinancialEntity]].

	"
	aFinancialEntity ensureitDoesntHaveAnythingOn: self.
	
	portfolioParents do: [:aPortfolio | aPortfolio ensureItDoesntinclude: aFinancialEntity excluding: self].
"! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:23:24' prior: 50969396 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	portfolioParents ifEmpty: [aFinancialEntity ensureitDoesntHaveAnythingOn: self]
	ifNotEmpty: [portfolioParents do: [:aPortfolio | aPortfolio assertFinancialEntityHasNotBeenAdded: aFinancialEntity]].

	"
	aFinancialEntity ensureitDoesntHaveAnythingOn: self.
	
	portfolioParents do: [:aPortfolio | aPortfolio ensureItDoesntinclude: aFinancialEntity excluding: self].
"! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:23:40'!
PASSED!

!methodRemoval: Portfolio #ensureItDoesntinclude:excluding: stamp: 'ET 5/22/2021 19:23:51'!
ensureItDoesntinclude: aFinancialEntity excluding: aPortfolioChild

	^ (aFinancialEntity  = self) or: [
		(financialEntities reject: [:financialEntity | financialEntity = aPortfolioChild]) anySatisfy: [:financialEntity | financialEntity includes: aFinancialEntity]].!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:23:53'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:23:54'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:23:54'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:25:20'!
test19

	|portfolioParent portfolioChild1 portfolioChild2 account|
	
	portfolioParent := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	portfolioChild1 addFinancialEntity: account.
	
	self should:[portfolioChild2 addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:25:35'!
PASSED!

!methodRemoval: PortfolioTest #test19 stamp: 'ET 5/22/2021 19:26:41'!
test19

	|portfolioParent portfolioChild1 portfolioChild2 account|
	
	portfolioParent := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	portfolioChild1 addFinancialEntity: account.
	
	self should:[portfolioChild2 addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:26:43'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:31:55' prior: 50968480 overrides: 50967376!
transactions

	|transactions|
	transactions := OrderedCollection new.
	financialEntities do: [:aFinancialEntity | transactions addAllFirst: (aFinancialEntity putAllTransactionsInto: transactions)].
	
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:32:46'!
putAllTransactionsInto: aTransactionsCollection
	
	financialEntities do: [:aFinancialEntity | aFinancialEntity putAllTransactionsInto: aTransactionsCollection].! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:33:16'!
putAllTransactionsInto: aTransactionsCollection
	
	aTransactionsCollection addAllFirst: (self transactions).! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:33:26'!
ERROR!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:33:26'!
ERROR!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:33:26'!
ERROR!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:33:26'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:33:36'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:34:34' prior: 50969672!
putAllTransactionsInto: aTransactionsCollection
	
	^aTransactionsCollection addAllFirst: (self transactions).! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:34:39'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:34:39'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:34:39'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:34:39'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:34:56' prior: 50969664!
putAllTransactionsInto: aTransactionsCollection
	
	^financialEntities do: [:aFinancialEntity | aFinancialEntity putAllTransactionsInto: aTransactionsCollection].! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:34:58'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:34:58'!
FAILURE!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:34:58'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:34:58'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:35:17'!
FAILURE!

transactions!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:36:55' prior: 50969723!
putAllTransactionsInto: aTransactionsCollection
	
	aTransactionsCollection addAllFirst: (self transactions).! !
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:37:08' prior: 50969771!
putAllTransactionsInto: aTransactionsCollection
	
	financialEntities do: [:aFinancialEntity | aFinancialEntity putAllTransactionsInto: aTransactionsCollection].! !
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:37:53' prior: 50969654 overrides: 50967376!
transactions

	|transactions|
	transactions := OrderedCollection new.
	financialEntities do: [:aFinancialEntity | aFinancialEntity putAllTransactionsInto: transactions].
	
	^transactions.! !

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:37:57'!
ERROR!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:38:12'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:38:15'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:38:16'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'ET 5/22/2021 19:39:30' prior: 50969840 overrides: 50967376!
transactions

	|transactions|
	transactions := OrderedCollection new.
	self putAllTransactionsInto: transactions.
	
	^transactions.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:39:32'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:39:33'!
PASSED!

----SNAPSHOT----(22 May 2021 19:40:11) CuisUniversity-4532.image priorSource: 20403396!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/22/2021 19:48:33' prior: 50969413 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	portfolioParents ifEmpty: [aFinancialEntity ensureitDoesntHaveAnythingOn: self]
	ifNotEmpty: [portfolioParents do: [:aPortfolio | aPortfolio assertFinancialEntityHasNotBeenAdded: aFinancialEntity]].! !

----SNAPSHOT----(22 May 2021 19:48:46) CuisUniversity-4532.image priorSource: 20426650!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:51:38'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) addPortfolioParent:
		(self coverAll:
			{141 to: 144}) ] valueCoveringAll:
		{121 to: 139}.
	[
	(financialEntities
		cover: (148 to: 164)
		declaredAt: (148 to: 164)) add:
		(aFinancialEntity
			cover: (171 to: 186)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{166 to: 169}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureitDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	"esta nada mas para tenerlo como mensaje polimorfico"
	^ self.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureitDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	[
	(portfolioParents
		cover: (35 to: 50)
		declaredAt: (35 to: 50)) add:
		(aPortfolio
			cover: (57 to: 66)
			declaredAt: (21 to: 30)) ] valueCoveringAll:
		{52 to: 55}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:51:39'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/22/2021 19:54:25'!
test19

	|portfolio|
	
	portfolio := Portfolio new.
	
	
	self should:[portfolio addFinancialEntity: portfolio]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:54:26'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:54:35'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) addPortfolioParent:
		(self coverAll:
			{141 to: 144}) ] valueCoveringAll:
		{121 to: 139}.
	[
	(financialEntities
		cover: (148 to: 164)
		declaredAt: (148 to: 164)) add:
		(aFinancialEntity
			cover: (171 to: 186)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{166 to: 169}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureitDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	"esta nada mas para tenerlo como mensaje polimorfico"
	^ self.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureitDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	[
	(portfolioParents
		cover: (35 to: 50)
		declaredAt: (35 to: 50)) add:
		(aPortfolio
			cover: (57 to: 66)
			declaredAt: (21 to: 30)) ] valueCoveringAll:
		{52 to: 55}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:54:36'!
PASSED!

!methodRemoval: ReceptiveAccount #assertFinancialEntityHasNotBeenAdded: stamp: 'ET 5/22/2021 19:55:36'!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	self = aFinancialEntity ifTrue: [self error: FinancialEntity canNotAddAlreadyAddedFinancialEntity].!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 19:55:39'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 19:55:39'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 19:55:39'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 19:55:39'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 19:55:40'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 20:00:43' prior: 50969316!
addPortfolioParent: aPortfolio
	self halt.

	"esta nada mas para tenerlo como mensaje polimorfico"! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 20:00:54'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 20:00:54'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 20:00:54'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 20:01:40' prior: 50970786!
addPortfolioParent: aPortfolio
	
	^self.

	"esta nada mas para tenerlo como mensaje polimorfico"! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 20:01:42'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 20:01:44'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 20:01:50'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) addPortfolioParent:
		(self coverAll:
			{141 to: 144}) ] valueCoveringAll:
		{121 to: 139}.
	[
	(financialEntities
		cover: (148 to: 164)
		declaredAt: (148 to: 164)) add:
		(aFinancialEntity
			cover: (171 to: 186)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{166 to: 169}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureitDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	^ self coverAll:
		{36 to: 39}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureitDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	[
	(portfolioParents
		cover: (35 to: 50)
		declaredAt: (35 to: 50)) add:
		(aPortfolio
			cover: (57 to: 66)
			declaredAt: (21 to: 30)) ] valueCoveringAll:
		{52 to: 55}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 20:01:51'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/22/2021 20:02:28' prior: 50970799!
addPortfolioParent: aPortfolio

	"esta nada mas para tenerlo como mensaje polimorfico"! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 20:02:32'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) addPortfolioParent:
		(self coverAll:
			{141 to: 144}) ] valueCoveringAll:
		{121 to: 139}.
	[
	(financialEntities
		cover: (148 to: 164)
		declaredAt: (148 to: 164)) add:
		(aFinancialEntity
			cover: (171 to: 186)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{166 to: 169}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureitDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	"esta nada mas para tenerlo como mensaje polimorfico"
	^ self.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
ensureitDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureitDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	[
	(portfolioParents
		cover: (35 to: 50)
		declaredAt: (35 to: 50)) add:
		(aPortfolio
			cover: (57 to: 66)
			declaredAt: (21 to: 30)) ] valueCoveringAll:
		{52 to: 55}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/22/2021 20:02:53'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/22/2021 20:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/22/2021 20:02:54'!
PASSED!

----STARTUP---- (25 May 2021 01:06:23) as C:\Users\ezequ\Desktop\windows64\CuisUniversity-4532.image!


!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:06:39'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 01:06:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 01:06:40'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:07:02'!
ensureItDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureitDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ET 5/25/2021 01:07:02'!
ensureItDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:07:02' prior: 50969988 overrides: 50968787!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	portfolioParents ifEmpty: [aFinancialEntity ensureItDoesntHaveAnythingOn: self]
	ifNotEmpty: [portfolioParents do: [:aPortfolio | aPortfolio assertFinancialEntityHasNotBeenAdded: aFinancialEntity]].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:07:02' prior: 50969035!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureItDoesntHaveAnythingOn: aPortfolio]
		
		]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:07:02' prior: 50971715!
ensureItDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureItDoesntHaveAnythingOn: aPortfolio]
		
		]! !

!methodRemoval: Portfolio #ensureitDoesntHaveAnythingOn: stamp: 'ET 5/25/2021 01:07:02'!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]
	ifFalse: [
		financialEntities do: [:aFinancialEntity | aFinancialEntity ensureItDoesntHaveAnythingOn: aPortfolio]
		
		]!

!methodRemoval: ReceptiveAccount #ensureitDoesntHaveAnythingOn: stamp: 'ET 5/25/2021 01:07:02'!
ensureitDoesntHaveAnythingOn: aPortfolio
	
	(aPortfolio includes: self) ifTrue: [self error: self class canNotAddAlreadyAddedFinancialEntity]!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:08:01' prior: 50969302!
addFinancialEntity: aFinancialEntity

	self assertFinancialEntityHasNotBeenAdded: aFinancialEntity.
	
	aFinancialEntity isAddedInto: self.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:09:47'!
isAddedInto: aPortfolio

	self addPortfolioParent: aPortfolio.
	aPortfolio addAssertedFinancialEntity: self.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:10:09'!
addAssertedFinancialEntity: aFinancialEntity

	financialEntities add: aFinancialEntity.! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'ET 5/25/2021 01:10:50'!
isAddedInto: aPortfolio

	aPortfolio addAssertedFinancialEntity: self.
! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:11:00'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:11:01'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:11:05'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) isAddedInto:
		(self coverAll:
			{134 to: 137}) ] valueCoveringAll:
		{121 to: 132}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureItDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(aPortfolio
		cover: (27 to: 36)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{38 to: 64}.! !
!Behavior method!
addAssertedFinancialEntity: aFinancialEntity
	[
	(financialEntities
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) add:
		(aFinancialEntity
			cover: (71 to: 86)
			declaredAt: (29 to: 44)) ] valueCoveringAll:
		{66 to: 69}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:11:05'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:11:05'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureItDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(self coverAll:
		{27 to: 30}) addPortfolioParent:
		(aPortfolio
			cover: (52 to: 61)
			declaredAt: (14 to: 23)) ] valueCoveringAll:
		{32 to: 50}.
	[
	(aPortfolio
		cover: (65 to: 74)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{104 to: 107}) ] valueCoveringAll:
		{76 to: 102}.! !
!Behavior method!
addPortfolioParent: aPortfolio
	[
	(portfolioParents
		cover: (35 to: 50)
		declaredAt: (35 to: 50)) add:
		(aPortfolio
			cover: (57 to: 66)
			declaredAt: (21 to: 30)) ] valueCoveringAll:
		{52 to: 55}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:11:06'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:12:02' prior: 50971795!
isAddedInto: aPortfolio

	self addPortfolioParent: aPortfolio.
	aPortfolio addAssertedFinancialEntity: self.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 01:12:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 01:12:02'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 5/25/2021 01:12:13' prior: 50972212!
isAddedInto: aPortfolio

	portfolioParents add: aPortfolio.
	aPortfolio addAssertedFinancialEntity: self.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:12:16'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) isAddedInto:
		(self coverAll:
			{134 to: 137}) ] valueCoveringAll:
		{121 to: 132}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureItDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(aPortfolio
		cover: (27 to: 36)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{38 to: 64}.! !
!Behavior method!
addAssertedFinancialEntity: aFinancialEntity
	[
	(financialEntities
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) add:
		(aFinancialEntity
			cover: (71 to: 86)
			declaredAt: (29 to: 44)) ] valueCoveringAll:
		{66 to: 69}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureItDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(portfolioParents
		cover: (27 to: 42)
		declaredAt: (27 to: 42)) add:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (14 to: 23)) ] valueCoveringAll:
		{44 to: 47}.
	[
	(aPortfolio
		cover: (62 to: 71)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{101 to: 104}) ] valueCoveringAll:
		{73 to: 99}.! !

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:12:20'!
PASSED!

!methodRemoval: Portfolio #addPortfolioParent: stamp: 'ET 5/25/2021 01:12:38'!
addPortfolioParent: aPortfolio
	
	portfolioParents add: aPortfolio.!

!methodRemoval: ReceptiveAccount #addPortfolioParent: stamp: 'ET 5/25/2021 01:12:43'!
addPortfolioParent: aPortfolio

	"esta nada mas para tenerlo como mensaje polimorfico"!

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:12:45'!
PASSED!

!methodRemoval: FinancialEntity #assertFinancialEntityHasNotBeenAdded: stamp: 'ET 5/25/2021 01:18:54'!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity

	self subclassResponsibility.!
!FinancialEntity methodsFor: 'transactions' stamp: 'ET 5/25/2021 01:19:13'!
ensureItDoesntHaveAnythingOn: aPortfolio

	self subclassResponsibility.! !
!FinancialEntity methodsFor: 'transactions' stamp: 'ET 5/25/2021 01:19:55'!
includes: aFinancialEntity

	self subclassResponsibility.! !
!FinancialEntity methodsFor: 'transactions' stamp: 'ET 5/25/2021 01:21:27'!
putAllTransactionsInto: aTransactionsCollection

	self subclassResponsibility.! !

!testRun: #PortfolioTest #test01 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'ET 5/25/2021 01:22:35'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:24:04'!
test01NewPortfolioHasZeroBalance

	|portfolio|
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test01 stamp: 'ET 5/25/2021 01:24:04'!
test01

	|portfolio|
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:24:44'!
test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount

	|portfolio account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account.
	
	self assert: 100 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test02 stamp: 'ET 5/25/2021 01:24:44'!
test02

	|portfolio account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account.
	
	self assert: 100 equals: portfolio balance.!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:25:21'!
test03PortfolioWithTwoAccountsHasAsBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
	
	self assert: 200 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test03 stamp: 'ET 5/25/2021 01:25:21'!
test03

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
	
	self assert: 200 equals: portfolio balance.!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:27:24'!
test04PortfolioWithOneAccountWithRegisteredTransactionHasThatTransactionRegistered

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test04 stamp: 'ET 5/25/2021 01:27:24'!
test04

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:28:21'!
test05PortfolioHasOnlyRegisteredTransactionsOfItsEntities

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test05 stamp: 'ET 5/25/2021 01:28:21'!
test05

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:29:50'!
test06PortfolioRegistersTransactionsOfAllOfItsEntities

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test06 stamp: 'ET 5/25/2021 01:29:50'!
test06

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:30:39'!
test04PortfolioRegistersTransactionsOfItsOnlyAddedEntity

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test04PortfolioWithOneAccountWithRegisteredTransactionHasThatTransactionRegistered stamp: 'ET 5/25/2021 01:30:39'!
test04PortfolioWithOneAccountWithRegisteredTransactionHasThatTransactionRegistered

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:30:49'!
test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedEntity stamp: 'ET 5/25/2021 01:30:49'!
test04PortfolioRegistersTransactionsOfItsOnlyAddedEntity

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:33:00'!
test07PortfolioKnowsTransactionOfItsOnlyAccount

	|portfolio account1 deposit1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	
	deposit1 := Deposit register: 50 on: account1.
	
	portfolio addFinancialEntity: account1.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit1).
! !

!methodRemoval: PortfolioTest #test07 stamp: 'ET 5/25/2021 01:33:00'!
test07

	|portfolio account1 deposit1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	
	deposit1 := Deposit register: 50 on: account1.
	
	portfolio addFinancialEntity: account1.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit1).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:33:25'!
test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
	
	self assert: 200 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test03PortfolioWithTwoAccountsHasAsBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 01:33:25'!
test03PortfolioWithTwoAccountsHasAsBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
	
	self assert: 200 equals: portfolio balance.!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:34:19'!
test08PortfolioKnowsTransactionOfAllOfItsAccounts

	|portfolio account1 account2 deposit withdraw |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account1.
	
	withdraw := Withdraw register: 20 on: account2.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
		
	self assert: 2 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
	self assert: (portfolio transactions includes: withdraw).
! !

!methodRemoval: PortfolioTest #test08 stamp: 'ET 5/25/2021 01:34:19'!
test08

	|portfolio account1 account2 deposit withdraw |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account1.
	
	withdraw := Withdraw register: 20 on: account2.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
		
	self assert: 2 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
	self assert: (portfolio transactions includes: withdraw).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:34:33'!
test06PortfolioRegistersTransactionsOfAllOfItsAccounts

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsEntities stamp: 'ET 5/25/2021 01:34:33'!
test06PortfolioRegistersTransactionsOfAllOfItsEntities

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:34:40'!
test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsEntities stamp: 'ET 5/25/2021 01:34:40'!
test05PortfolioHasOnlyRegisteredTransactionsOfItsEntities

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:35:18'!
test09PortfolioWithEmptyPortfolioHasZeroBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
! !

!methodRemoval: PortfolioTest #test09 stamp: 'ET 5/25/2021 01:35:18'!
test09

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 0 equals: portfolioParent balance.
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:35:55'!
test10PortfolioWithNonEmptyPortfolioHasItsBalance

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!methodRemoval: PortfolioTest #test10 stamp: 'ET 5/25/2021 01:35:55'!
test10

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:36:52'!
test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addFinancialEntity: account1.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addFinancialEntity: account2.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !

!methodRemoval: PortfolioTest #test11 stamp: 'ET 5/25/2021 01:36:52'!
test11

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addFinancialEntity: account1.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addFinancialEntity: account2.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:38:17'!
test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!methodRemoval: PortfolioTest #test12 stamp: 'ET 5/25/2021 01:38:17'!
test12

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:39:20'!
test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfTheAccountsInside

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test13 stamp: 'ET 5/25/2021 01:39:20'!
test13

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:40:29'!
test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).! !

!methodRemoval: PortfolioTest #test14 stamp: 'ET 5/25/2021 01:40:29'!
test14

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 50 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:40:44'!
test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
! !

!methodRemoval: PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfTheAccountsInside stamp: 'ET 5/25/2021 01:40:44'!
test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfTheAccountsInside

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self assert: (portfolioParent hasRegistered: deposit).
!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:41:16'!
test15CannotAddAlreadyAddedAccount

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addFinancialEntity: account.
	
	self should:[portfolio addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test15 stamp: 'ET 5/25/2021 01:41:16'!
test15

	|portfolio account|
	
	portfolio:= Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio addFinancialEntity: account.
	
	self should:[portfolio addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:43:47'!
test16PortfolioWithNonEmptyPortfolioCannotAddAccountsOfItsPortfolio

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	self should:[portfolioParent addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test16 stamp: 'ET 5/25/2021 01:43:47'!
test16

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	self should:[portfolioParent addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:45:15'!
test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	self should:[portfolioParent addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test16PortfolioWithNonEmptyPortfolioCannotAddAccountsOfItsPortfolio stamp: 'ET 5/25/2021 01:45:15'!
test16PortfolioWithNonEmptyPortfolioCannotAddAccountsOfItsPortfolio

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	self should:[portfolioParent addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:47:26'!
test17CannotAddPortfolioWithAccountsAlreadyInside

	|portfolioParent portfolioChild portfolioChild2 account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioChild2 addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioParent addFinancialEntity: portfolioChild2]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test17 stamp: 'ET 5/25/2021 01:47:26'!
test17

	|portfolioParent portfolioChild portfolioChild2 account|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioChild2 addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioParent addFinancialEntity: portfolioChild2]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:48:41'!
test18CannotAddAccountThatHasBeenAddedByAParentPortfolio

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioChild addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test18 stamp: 'ET 5/25/2021 01:48:41'!
test18

	|portfolioParent portfolioChild account|
	
	portfolioParent := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: account.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
	self should:[portfolioChild addFinancialEntity: account]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:49:15'!
test19CannotAddItself

	|portfolio|
	
	portfolio := Portfolio new.
	
	
	self should:[portfolio addFinancialEntity: portfolio]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].! !

!methodRemoval: PortfolioTest #test19 stamp: 'ET 5/25/2021 01:49:15'!
test19

	|portfolio|
	
	portfolio := Portfolio new.
	
	
	self should:[portfolio addFinancialEntity: portfolio]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Portfolio canNotAddAlreadyAddedFinancialEntity) ].!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 01:49:26'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 01:49:31'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 01:49:31'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:50:49' prior: 50972992!
test07PortfolioKnowsTransactionOfItsOnlyAccount

	|portfolio account1 deposit1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	
	deposit1 := Deposit register: 100 on: account1.
	
	portfolio addFinancialEntity: account1.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit1).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:51:01' prior: 50973051!
test08PortfolioKnowsTransactionOfAllOfItsAccounts

	|portfolio account1 account2 deposit withdraw |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account1.
	
	withdraw := Withdraw register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	portfolio addFinancialEntity: account2.
		
	self assert: 2 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
	self assert: (portfolio transactions includes: withdraw).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:51:17' prior: 50973305!
test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts

	|portfolioParent portfolioChild account deposit |
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: account.
	
	portfolioParent addFinancialEntity: portfolioChild.
		
	self assert: 1 equals: portfolioParent transactions size.
	self assert: (portfolioParent transactions includes: deposit).! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 01:51:20'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 01:51:21'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 01:51:21'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 01:51:21'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:53:02'!
receptiveAccountWith100Deposit

	|account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	^account.! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:53:42' prior: 50972819!
test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount

	|portfolio account|
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:54:01' prior: 50973018!
test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio account1 account2|
	
	account1 := ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	self assert: 200 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:56:24' prior: 50972967!
test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	deposit := account transactions first.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 01:56:28'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 01:56:28'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:56:56' prior: 50973121!
test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	deposit := account transactions first.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:57:08' prior: 50973902!
test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:34:40' prior: 50973915!
test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit for: 100.
	
	portfolio addFinancialEntity: account.
	
	
	self deny: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:57:38' prior: 50973815!
test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	deposit := account transactions first.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:58:56' prior: 50973090!
test06PortfolioRegistersTransactionsOfAllOfItsAccounts

	|portfolio account1 account2 deposit|
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account2.
	
	portfolio addFinancialEntity: account1.
	
	portfolio addFinancialEntity: account2.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 01:30:49' prior: 50973939!
test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:02:16' prior: 50973165!
test10PortfolioWithNonEmptyPortfolioHasItsBalance

	|portfolioParent portfolioChild account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolioChild addFinancialEntity: self receptiveAccountWith100Deposit .
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:02:21'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:02:21'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:02:49' prior: 50973195!
test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios

	|portfolioParent portfolioChild1 portfolioChild2 account1 account2 deposit1 deposit2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 100 on: account1.
	
	portfolioChild1 addFinancialEntity: self receptiveAccountWith100Deposit.
	
	account2 := ReceptiveAccount new.
	deposit2 := Deposit register: 100 on: account2.
	
	portfolioChild2 addFinancialEntity: self receptiveAccountWith100Deposit.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:02:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:02:55'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:03:11' prior: 50973243!
test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance

	|portfolioParent portfolioChild  account deposit|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	account := ReceptiveAccount new.
	
	portfolioParent addFinancialEntity: self receptiveAccountWith100Deposit.
	
	deposit := Deposit register: 100 on: account.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:03:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:03:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:03:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:03:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:03:14'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:04:14' prior: 50973784!
test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount

	|portfolio|
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:04:30' prior: 50973797!
test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio|
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	self assert: 200 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:04:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:04:32'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:05:08' prior: 50973982!
test10PortfolioWithNonEmptyPortfolioHasItsBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioChild addFinancialEntity: self receptiveAccountWith100Deposit .
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:05:10' prior: 50974451!
test10PortfolioWithNonEmptyPortfolioHasItsBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioChild addFinancialEntity: self receptiveAccountWith100Deposit.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:05:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:05:12'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:05:31' prior: 50974072!
test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios

	|portfolioParent portfolioChild1 portfolioChild2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := Portfolio new.
	
	portfolioChild2 := Portfolio new.
	
	portfolioChild1 addFinancialEntity: self receptiveAccountWith100Deposit.
	
	portfolioChild2 addFinancialEntity: self receptiveAccountWith100Deposit.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:05:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:05:32'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:05:53' prior: 50974203!
test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	portfolioParent addFinancialEntity: self receptiveAccountWith100Deposit.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:05:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:05:54'!
PASSED!
!PortfolioTest methodsFor: 'private' stamp: 'ET 5/25/2021 02:13:33'!
portfolioWithOneAccountWith100Deposit

	|portfolio|
	
	portfolio := Portfolio new.
	
	portfolio add: ReceptiveAccount new.
	
	
	^portfolio! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:13:53' prior: 50974325!
test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount

	|portfolio|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:13:55'!
ERROR!
!PortfolioTest methodsFor: 'private' stamp: 'ET 5/25/2021 02:14:06' prior: 50974825!
portfolioWithOneAccountWith100Deposit

	|portfolio|
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: ReceptiveAccount new.
	
	
	^portfolio! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:14:09'!
FAILURE!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:14:09'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:14:09'!
FAILURE!
!PortfolioTest methodsFor: 'private' stamp: 'ET 5/25/2021 02:14:46' prior: 50974846!
portfolioWithOneAccountWith100Deposit

	|portfolio account|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	
	portfolio addFinancialEntity: account.
	
	
	^portfolio! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:14:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:14:47'!
PASSED!
!PortfolioTest methodsFor: 'private' stamp: 'ET 5/25/2021 02:15:04' prior: 50974957!
portfolioWithOneAccountWith100Deposit

	|portfolio account|
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	
	^portfolio! !
!PortfolioTest methodsFor: 'private' stamp: 'ET 5/25/2021 02:15:09' prior: 50975066!
portfolioWithOneAccountWith100Deposit

	|portfolio|
	
	portfolio := Portfolio new.
	
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	
	^portfolio! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:15:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:15:11'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:15:38' prior: 50974335!
test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts

	|portfolio|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit.
	
	self assert: 200 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:15:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:15:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:15:41'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:16:43' prior: 50973954!
test06PortfolioRegistersTransactionsOfAllOfItsAccounts

	|portfolio account  deposit|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
	
	
	self assert: (portfolio hasRegistered: deposit).
! !

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:16:43'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:16:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:16:44'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:17:15' prior: 50973651!
test07PortfolioKnowsTransactionOfItsOnlyAccount

	|portfolio account deposit|
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.

	deposit := Deposit register: 100 on: account.
	
	portfolio addFinancialEntity: account.
		
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: deposit).
! !

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:17:16'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:17:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:17:17'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:19:11' prior: 50974465!
test10PortfolioWithNonEmptyPortfolioHasItsBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := Portfolio new.
	
	portfolioChild := self portfolioWithOneAccountWith100Deposit.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:19:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:19:12'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:19:40' prior: 50974582!
test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios

	|portfolioParent portfolioChild1 portfolioChild2|
	
	portfolioParent := Portfolio new.
	
	portfolioChild1 := self portfolioWithOneAccountWith100Deposit.
	
	portfolioChild2 := self portfolioWithOneAccountWith100Deposit.
	
	portfolioParent addFinancialEntity: portfolioChild1.
	
	portfolioParent addFinancialEntity: portfolioChild2.
	
	
		
	self assert: 200 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:19:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:19:41'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 5/25/2021 02:20:26' prior: 50974707!
test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance

	|portfolioParent portfolioChild|
	
	portfolioParent := self portfolioWithOneAccountWith100Deposit.
	
	portfolioChild := Portfolio new.
	
	portfolioParent addFinancialEntity: portfolioChild.
	
		
	self assert: 100 equals: portfolioParent balance.
! !

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:20:28'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:25:10'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:25:10'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 5/25/2021 02:25:10'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 5/25/2021 02:25:10'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 5/25/2021 02:25:10'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 5/25/2021 02:25:11'!
PASSED!

----STARTUP---- (25 May 2021 13:25:16) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!


----End fileIn of /home/julian/facu/ingenieria1/ambientesCuis/RedTest-bug tests.st----!

----End fileIn of /home/julian/facu/ingenieria1/ambientesCuis/TDDState-allTestsPassed.st----!

----End fileIn of /home/julian/Descargas/TDDStateIcon-setBalloonText.st----!

----End fileIn of /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/Portfolio-Ejercicio.st----!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/25/2021 13:29:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/25/2021 13:29:41'!
PASSED!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/25/2021 14:37:26'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) isAddedInto:
		(self coverAll:
			{134 to: 137}) ] valueCoveringAll:
		{121 to: 132}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureItDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(aPortfolio
		cover: (27 to: 36)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{38 to: 64}.! !
!Behavior method!
addAssertedFinancialEntity: aFinancialEntity
	[
	(financialEntities
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) add:
		(aFinancialEntity
			cover: (71 to: 86)
			declaredAt: (29 to: 44)) ] valueCoveringAll:
		{66 to: 69}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureItDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(portfolioParents
		cover: (27 to: 42)
		declaredAt: (27 to: 42)) add:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (14 to: 23)) ] valueCoveringAll:
		{44 to: 47}.
	[
	(aPortfolio
		cover: (62 to: 71)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{101 to: 104}) ] valueCoveringAll:
		{73 to: 99}.! !

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/25/2021 14:37:27'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/25/2021 14:37:27'!
PASSED!

----QUIT----(27 May 2021 17:03:23) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (27 May 2021 19:22:21) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!


TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferTest category: 'Portfolio-Ejercicio' stamp: 'JA 5/27/2021 20:38:23'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferTest methodsFor: 'nil' stamp: 'JA 5/27/2021 20:39:10'!
test01
	! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/27/2021 20:44:27'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 20:44:11' prior: 50860637!
test01
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: 100 equals: (accountDestino balance).
	self assert: -100 equals: (accountOrigen balance).
	! !

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 20:44:39'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 20:48:40'!
from: aReceptiveAccount to: aReceptiveAccount2 amount: aSmallInteger 
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 20:54:52' prior: 50860663!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	
	Withdraw register: anAmount on: aReceptiveAccountOrigin.
	Deposit register: anAmount on: aReceptiveAccountDestiny.! !

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 20:54:55'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 20:54:55'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:08:17'!
test0x
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: 0.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotAddAlreadyAddedFinancialEntity) ].
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:13:47'!
test02
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: 0.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotTransferZeroAmount) ].
	! !

!methodRemoval: TransferTest #test0x stamp: 'JA 5/27/2021 21:14:20'!
test0x
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: 0.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotAddAlreadyAddedFinancialEntity) ].
	!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:14:23'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:14:54'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:16:37' prior: 50860670!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	anAmount = 0 ifTrue: [self error: self canNotTransferZeroAmount].
	Withdraw register: anAmount on: aReceptiveAccountOrigin.
	Deposit register: anAmount on: aReceptiveAccountDestiny.! !

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:16:51'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:17:04'!
canNotTransferZeroAmount
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:17:36' prior: 50860743!
canNotTransferZeroAmount
	^ 'No se puede transferir con monto cero'.! !

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:17:39'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:17:59'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:18:04'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 21:18:04'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:18:04'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:19:23'!
test03
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: -100.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotTransferZeroAmount) ].
	! !

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:19:27'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:20:04' prior: 50860729!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	anAmount <= 0 ifTrue: [self error: self canNotTransferZeroAmount].
	Withdraw register: anAmount on: aReceptiveAccountOrigin.
	Deposit register: anAmount on: aReceptiveAccountDestiny.! !

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:20:07'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 21:20:07'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:20:07'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:20:07'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:20:14'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 21:20:14'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:20:14'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:20:14'!
PASSED!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:21:34'!
canNotTransferWithInvalidAmount
	^ 'No se puede transferir con monto cero'.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:21:34' prior: 50860781!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	anAmount <= 0 ifTrue: [self error: self canNotTransferWithInvalidAmount].
	Withdraw register: anAmount on: aReceptiveAccountOrigin.
	Deposit register: anAmount on: aReceptiveAccountDestiny.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:21:34' prior: 50860765!
test03
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: -100.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotTransferWithInvalidAmount) ].
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:21:34' prior: 50860698!
test02
	| accountDestino accountOrigen |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
		
	self should:[Transfer from:accountOrigen to:accountDestino amount: 0.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotTransferWithInvalidAmount) ].
	! !

!methodRemoval: Transfer class #canNotTransferZeroAmount stamp: 'JA 5/27/2021 21:21:34'!
canNotTransferZeroAmount
	^ 'No se puede transferir con monto cero'.!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:22:26' prior: 50860811!
canNotTransferWithInvalidAmount
	^ 'No se puede transferir con monto no positivo'.! !

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:22:49'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 21:22:49'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:22:49'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:22:49'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:28:16'!
test04
	| accountDestino accountOrigen aTransfer |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	aTransfer := Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: (accountOrigen transactions includes: (aTransfer withdraw)).
	self assert: (accountDestino transactions includes: (aTransfer deposit)).
	! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:28:50'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:33:09' prior: 50860817!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	
	| aTranferDeposit aTranferWithdraw aTransferDeposit aTransferWithdraw |
	anAmount <= 0 ifTrue: [self error: self canNotTransferWithInvalidAmount].
	
	aTranferWithdraw := Withdraw register: anAmount on: aReceptiveAccountOrigin.
	aTranferDeposit := Deposit register: anAmount on: aReceptiveAccountDestiny.
	
	^ self new initializeWith: aTransferDeposit and: aTransferWithdraw.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:35:31' prior: 50860894!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	
	| aTransferDeposit aTransferWithdraw |
	anAmount <= 0 ifTrue: [self error: self canNotTransferWithInvalidAmount].
	
	aTransferWithdraw := Withdraw register: anAmount on: aReceptiveAccountOrigin.
	aTransferDeposit := Deposit register: anAmount on: aReceptiveAccountDestiny.
	
	^ self new initializeWith: aTransferDeposit and: aTransferWithdraw.! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:36:13'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/27/2021 21:36:24'!
Object subclass: #Transfer
	instanceVariableNames: 'transferDeposit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/27/2021 21:36:24'!
Object subclass: #Transfer
	instanceVariableNames: 'transferDeposit transferWithdraw'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Transfer methodsFor: 'initialization' stamp: 'JA 5/27/2021 21:36:24'!
initializeWith: aTransferDeposit and: aTransferWithdraw 
	self shouldBeImplemented.
	transferDeposit := aTransferDeposit.
	transferWithdraw := aTransferWithdraw.! !
!Transfer methodsFor: 'initialization' stamp: 'JA 5/27/2021 21:37:46' prior: 50860946!
initializeWith: aTransferDeposit and: aTransferWithdraw 
	transferDeposit := aTransferDeposit.
	transferWithdraw := aTransferWithdraw.! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:38:04'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:38:15'!
withdraw
	self shouldBeImplemented.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:38:40' prior: 50860963!
withdraw
	^ transferWithdraw .! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:38:42'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:38:52'!
deposit
	self shouldBeImplemented.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 21:39:11' prior: 50860974!
deposit
	^ transferDeposit .! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:39:12'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 21:39:12'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 21:39:12'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 21:39:12'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 21:39:12'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 22:23:06'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 22:23:06'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 22:23:06'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 22:23:06'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 22:24:04' prior: 50860877!
test04
	| accountDestino accountOrigen aTransfer |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	aTransfer := Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: (accountOrigen hasRegistered: (aTransfer withdraw)).
	self assert: (accountDestino hasRegistered: (aTransfer deposit)).
	! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 22:24:05'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 22:24:05'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 22:24:05'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 22:24:05'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 22:24:05'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/27/2021 22:24:51' prior: 50861004!
test04
	| accountDestino accountOrigen aTransfer |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	aTransfer := Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: (accountOrigen hasRegistered: (aTransfer withdraw)).
	self assert: (accountDestino hasRegistered: (aTransfer deposit)).
	! !

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 22:24:52'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/27/2021 22:24:52'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/27/2021 22:24:52'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/27/2021 22:24:52'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/27/2021 22:24:52'!
PASSED!

----QUIT----(27 May 2021 23:14:50) CuisUniversity-4532.image priorSource: 16926968!

----STARTUP---- (27 May 2021 23:51:07) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!

!TransferTest methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:01:38'!
test05
	| accountDestino accountOrigen aTransfer |
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	aTransfer := Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: (accountOrigen hasRegistered: (aTransfer deposit transfer withdraw)).
	self assert: (accountDestino hasRegistered: (aTransfer withdraw transfer deposit)).
	! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:02:03'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:26:36' prior: 50860912!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	
	
	anAmount <= 0 ifTrue: [self error: self canNotTransferWithInvalidAmount].
	
	
	^ self new initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount.! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:26:54'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:27:16'!
Object subclass: #Transfer
	instanceVariableNames: 'transferDeposit transferWithdraw receptiveAccountOrigin'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:27:16'!
Object subclass: #Transfer
	instanceVariableNames: 'transferDeposit transferWithdraw receptiveAccountOrigin receptiveAccountDestiny'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:27:16'!
Object subclass: #Transfer
	instanceVariableNames: 'transferDeposit transferWithdraw receptiveAccountOrigin receptiveAccountDestiny amount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Transfer methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:27:16'!
initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount 
	self shouldBeImplemented.
	receptiveAccountOrigin := aReceptiveAccountOrigin.
	receptiveAccountDestiny := aReceptiveAccountDestiny.
	amount := anAmount.! !

!classDefinition: #TransferWithdraw category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:36:09'!
AccountTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferDeposit category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:36:56'!
AccountTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Transfer methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:33:01' prior: 50861121!
initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount 
	
	amount := anAmount.	
	transferWithdraw := TransferWithdraw for: self on: aReceptiveAccountOrigin.
	transferDeposit := TransferDeposit for: self on: aReceptiveAccountDestiny.
	! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:37:16'!
ERROR!
!TransferWithdraw class methodsFor: 'instance creation' stamp: 'JA 5/30/2021 18:37:28'!
for: aTransfer on: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aTransfer on: aReceptiveAccount ! !
!TransferWithdraw class methodsFor: 'instance creation' stamp: 'JA 5/30/2021 18:38:05' prior: 50861162!
for: aTransfer on: aReceptiveAccount 

	^self new initializeFor: aTransfer on: aReceptiveAccount ! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:38:07'!
ERROR!

!classDefinition: #TransferWithdraw category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:38:47'!
AccountTransaction subclass: #TransferWithdraw
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferWithdraw category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:38:47'!
AccountTransaction subclass: #TransferWithdraw
	instanceVariableNames: 'transfer receptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferWithdraw methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:38:47'!
initializeFor: aTransfer on: aReceptiveAccount 
	self shouldBeImplemented.
	transfer := aTransfer.
	receptiveAccount := aReceptiveAccount.! !
!TransferWithdraw methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:44:37' prior: 50861197!
initializeFor: aTransfer on: aReceptiveAccount 
	
	transfer := aTransfer.
	receptiveAccount := aReceptiveAccount.! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:44:41'!
ERROR!
!TransferDeposit class methodsFor: 'instance creation' stamp: 'JA 5/30/2021 18:44:52'!
for: aTransfer on: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aTransfer on: aReceptiveAccount ! !
!TransferDeposit class methodsFor: 'instance creation' stamp: 'JA 5/30/2021 18:45:03' prior: 50861214!
for: aTransfer on: aReceptiveAccount 
	
	^self new initializeFor: aTransfer on: aReceptiveAccount ! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:45:06'!
ERROR!

!classDefinition: #TransferDeposit category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:45:14'!
AccountTransaction subclass: #TransferDeposit
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferDeposit category: 'Portfolio-Ejercicio' stamp: 'JA 5/30/2021 18:45:14'!
AccountTransaction subclass: #TransferDeposit
	instanceVariableNames: 'transfer receptiveAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferDeposit methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:45:14'!
initializeFor: aTransfer on: aReceptiveAccount 
	self shouldBeImplemented.
	transfer := aTransfer.
	receptiveAccount := aReceptiveAccount.! !
!TransferDeposit methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:45:23' prior: 50861249!
initializeFor: aTransfer on: aReceptiveAccount 
	
	transfer := aTransfer.
	receptiveAccount := aReceptiveAccount.! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:45:33'!
ERROR!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:45:48'!
transfer
	self shouldBeImplemented.
	^transfer! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:45:52' prior: 50861266!
transfer
	
	^transfer! !

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:45:57'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:46:21'!
FAILURE!
!TransferWithdraw methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:47:09'!
transfer	
	^transfer.! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:48:46'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:48:46'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:48:46'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:48:46'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:48:46'!
FAILURE!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:48:51'!
FAILURE!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:49:48'!
FAILURE!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:50:31'!
FAILURE!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:50:31'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:50:31'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:50:31'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:50:31'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'JA 5/30/2021 18:52:18' prior: 50861148!
initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount 
	
	amount := anAmount.	
	transferWithdraw := TransferWithdraw for: self on: aReceptiveAccountOrigin.
	transferDeposit := TransferDeposit for: self on: aReceptiveAccountDestiny.
	aReceptiveAccountOrigin register: transferWithdraw.
	aReceptiveAccountDestiny register: transferDeposit.
	! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:52:21'!
ERROR!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:52:21'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:52:21'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:52:21'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:52:21'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:52:21'!
ERROR!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:52:35' overrides: 50859779!
modifiesBalance: aSmallInteger 
	self shouldBeImplemented.! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:53:15' prior: 50861340 overrides: 50859779!
modifiesBalance: balance

	^balance + transfer amount.! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:53:23'!
ERROR!
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:53:34'!
amount
	self shouldBeImplemented.
	^amount! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:53:39' prior: 50861353!
amount
	
	^amount! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:53:43'!
ERROR!
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:53:53' overrides: 50859779!
modifiesBalance: aSmallInteger 
	self shouldBeImplemented.! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:54:08' prior: 50861365 overrides: 50859779!
modifiesBalance: balance

	^balance - transfer amount.! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:54:09'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:54:13'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:54:13'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:54:13'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:54:13'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:54:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 18:54:18'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/30/2021 18:54:22'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:55:45'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:55:45'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:55:45'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:55:45'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:55:45'!
PASSED!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:57:32' overrides: 50859785!
value	
	^transfer amount.! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 18:57:43' overrides: 50859785!
value	
	^transfer amount.! !

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 18:57:51'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 18:57:51'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 18:57:51'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 18:57:51'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 18:57:51'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'JA 5/30/2021 19:26:31'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'JA 5/30/2021 19:26:31'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'JA 5/30/2021 19:26:31'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'JA 5/30/2021 19:26:31'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'JA 5/30/2021 19:26:31'!
PASSED!

----QUIT----(30 May 2021 19:26:47) CuisUniversity-4532.image priorSource: 16940936!

----STARTUP---- (30 May 2021 19:27:58) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!


----QUIT----(30 May 2021 19:28:20) CuisUniversity-4532.image priorSource: 16956214!

----STARTUP---- (30 May 2021 19:32:49) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!

!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 19:51:08'!
test08

	| account |
	
	account := ReceptiveAccount new.
	
	self assert: account accountSummaryReport includes: 'Balance = 0'
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 19:51:15'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 19:51:25'!
accountSummaryReport
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 19:52:19' prior: 50861556!
accountSummaryReport
	^ OrderedCollection with: 'Balance = 0'.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 19:52:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 19:52:22'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 19:56:59'!
test09

	| account |
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account. 
	
	self assert: account accountSummaryReport includes: 'Depsito por 100'
! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 19:57:03'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:02:44' prior: 50861561!
accountSummaryReport
	transactions isEmpty ifTrue:[ ^OrderedCollection with: 'Balance = 0' ].
	^ OrderedCollection with: 'Depsito por 100'.	! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:02:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:02:45'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 20:05:06'!
test10

	| account |
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummaryReport includes: 'Extraccin por 50'
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:05:08'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:13:46' prior: 50861609!
accountSummaryReport	
	|report|
	report := OrderedCollection.
	transactions isEmpty ifTrue:[ report add: 'Balance = 0' ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: ('Extraccin por ' nextPutAll: transaction value)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: ('Depsito por ' nextPutAll: transaction value)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:13:48'!
ERROR!

----End fileIn of /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/Packages/TerseGuide.pck.st----!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:22:55' prior: 50861662!
accountSummaryReport	
	|report|
	report := OrderedCollection.
	transactions isEmpty ifTrue:[ report add: 'Balance = 0' ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				(String streamContents: [ :str |	str nextPutAll: 'Extraccin por '. 		
										str nextPutAll: transaction value asString.])].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				(String streamContents: [ :str |	str nextPutAll: 'Extraccin por '. 		
										str nextPutAll: transaction value asString.])].
	].
	^ report.! !

'qwer' + 43 asString!

'qwer' + 43 !

'qwer' , 43 !

'qwer' , 43 asString !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:26:24' prior: 50864606!
accountSummaryReport	
	|report|
	report := OrderedCollection.
	transactions isEmpty ifTrue:[ report add: 'Balance = 0' ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Extraccin por ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:26:26'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:27:33' prior: 50864629!
accountSummaryReport	
	|report|
	report := OrderedCollection new.
	transactions isEmpty ifTrue:[ report add: 'Balance = 0' ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Extraccin por ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:27:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:27:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:27:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:28:08'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:28:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:28:08'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:28:41' prior: 50864648!
accountSummaryReport	
	|report|
	report := OrderedCollection new.
	transactions isEmpty ifTrue:[ report add: 'Balance = 0' ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:28:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:28:49'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 20:32:21'!
test11

	| account |
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	Deposit register: 100 on: account. 
	
	self assert: account accountSummaryReport includes: 'Extraccin por 50'.
	self assert: account accountSummaryReport includes: 'Depsito por 100'.
	self assert: account accountSummaryReport includes: 'Balance = 50'.! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:32:32'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:34:08' prior: 50864742!
accountSummaryReport	
	|report|
	report := OrderedCollection new.
	transactions isEmpty ifTrue:[ report add: ('Balance = ', self balance asString) ].
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:34:10'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:35:19' prior: 50864811!
accountSummaryReport	
	|report|
	report := OrderedCollection with:('Balance = ', self balance asString).
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:35:21'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 20:39:02'!
test12

	| accountDestino accountOrigen |
	
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: accountOrigen accountSummaryReport includes: 'Salida por transferencia de 100'.
	self assert: accountDestino accountSummaryReport includes: 'Entrada por transferencia de 100'.
	self assert: accountOrigen accountSummaryReport includes: 'Balance = -100'.
	self assert: accountOrigen accountSummaryReport includes: 'Balance = 100'.	! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:39:04'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:40:07' prior: 50864830!
accountSummaryReport	
	|report|
	report := OrderedCollection with:('Balance = ', self balance asString).
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
		(transaction isKindOf: TransferDeposit) ifTrue: [ report add: 
				('Salida por transferencia de ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:40:09'!
FAILURE!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:40:16'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:42:16' prior: 50864907!
accountSummaryReport	
	|report|
	report := OrderedCollection with:('Balance = ', self balance asString).
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
		(transaction isKindOf: TransferDeposit) ifTrue: [ report add: 
				('Entrada por transferencia de ',transaction value asString)].
		(transaction isKindOf: TransferWithdraw) ifTrue: [ report add: 
				('Salida por transferencia de ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:42:35'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/30/2021 20:43:06' prior: 50864884!
test12

	| accountDestino accountOrigen |
	
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: accountOrigen accountSummaryReport includes: 'Salida por transferencia de 100'.
	self assert: accountDestino accountSummaryReport includes: 'Entrada por transferencia de 100'.
	self assert: accountOrigen accountSummaryReport includes: 'Balance = -100'.
	self assert: accountDestino accountSummaryReport includes: 'Balance = 100'.	! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:43:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:45:11'!
PASSED!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/30/2021 20:45:50' prior: 50864932!
accountSummaryReport	
	|report|
	report := OrderedCollection with:('Balance = ', self balance asString).
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
		(transaction isKindOf: TransferDeposit) ifTrue: [ report add: 
				('Entrada por transferencia de ',transaction value asString)].
		(transaction isKindOf: TransferWithdraw) ifTrue: [ report add: 
				('Salida por transferencia de ',transaction value asString)].
	].
	^ report.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/30/2021 20:49:17'!
PASSED!

----QUIT----(30 May 2021 20:49:22) CuisUniversity-4532.image priorSource: 16956424!

----STARTUP---- (30 May 2021 20:49:51) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!


----QUIT----(30 May 2021 20:50:03) CuisUniversity-4532.image priorSource: 17071184!

----STARTUP---- (31 May 2021 21:37:04) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!

!ReceptiveAccountTest methodsFor: 'tests' stamp: 'JA 5/31/2021 21:40:11'!
test13

	| account |
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account. 
	
	self assert: 'Balance = 100' equals: account accountSummaryReport last .
! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'JA 5/31/2021 21:40:12'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'JA 5/31/2021 21:40:59' prior: 50865061!
accountSummaryReport	
	|report|
	report := OrderedCollection new.
	transactions do: [:transaction| 
		(transaction isKindOf: Withdraw) ifTrue: [ report add: 
				( 'Extraccin por ', transaction value asString)].
		(transaction isKindOf: Deposit) ifTrue: [ report add: 
				('Depsito por ',transaction value asString)].
		(transaction isKindOf: TransferDeposit) ifTrue: [ report add: 
				('Entrada por transferencia de ',transaction value asString)].
		(transaction isKindOf: TransferWithdraw) ifTrue: [ report add: 
				('Salida por transferencia de ',transaction value asString)].
	].
	report add:('Balance = ', self balance asString).
	^ report.! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'JA 5/31/2021 21:41:01'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 21:44:29'!
test20

	| account |
	
	account := Portfolio new.
	
	self assert: account accountSummaryReport includes: 'Balance = 0'
! !
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 21:45:03' prior: 50865217!
test20

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio accountSummaryReport includes: 'Balance = 0'
! !

!testRun: #PortfolioTest #test20 stamp: 'JA 5/31/2021 21:45:05'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JA 5/31/2021 21:45:28'!
accountSummaryReport
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JA 5/31/2021 21:46:03' prior: 50865233!
accountSummaryReport
	^ OrderedCollection with:'Balance = 0'.! !

!testRun: #PortfolioTest #test20 stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/31/2021 21:46:04'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/31/2021 21:46:05'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/31/2021 21:46:05'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/31/2021 21:46:05'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'JA 5/31/2021 21:46:05'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 21:51:44'!
test21

	|portfolio|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	
	
	self assert: portfolio accountSummaryReport includes: 'Depsito por 100'.
	self assert: 'Balance = 100' equals: portfolio accountSummaryReport last.
	self assert: 2 equals: portfolio accountSummaryReport size.! !

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 21:51:45'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'JA 5/31/2021 22:00:20' prior: 50865238!
accountSummaryReport	
	| report |
	report := OrderedCollection new.
	financialEntities do:[ :aFinancialEntity |
			report addAllLast: aFinancialEntity accountSummaryReport .
		].
	report add:'Balance = ', self balance asString.
	^ report.! !

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 22:00:36'!
FAILURE!
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 22:36:58' prior: 50865320!
test21

	|portfolio|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	
	
	self assert: portfolio accountSummaryReport includes: 'Depsito por 100'.
	self assert: 'Balance = 100' equals: portfolio accountSummaryReport last.
	
	self assert: 3 equals: portfolio accountSummaryReport size.! !
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 22:39:48' prior: 50865348!
test21

	|portfolio|
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	self assert: portfolio accountSummaryReport includes: 'Depsito por 100'.
	self assert: 'Balance = 100' equals: portfolio accountSummaryReport last.
	
	self assert: 3 equals: portfolio accountSummaryReport size.! !
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 22:49:30' prior: 50865360!
test21

	|portfolio report |
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	report :=portfolio accountSummaryReport.
	self assert: 'Balance = 200' equals: report last.
	report removeLast.	
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.	
	
	self assert: 3 equals: portfolio accountSummaryReport size.! !
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 22:51:00' prior: 50865375!
test21

	|portfolio report |
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	report :=portfolio accountSummaryReport.
	
	self assert: 5 equals: report size.
	self assert: 'Balance = 200' equals: report last.
	report removeLast.	
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	
	
	! !

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'JA 5/31/2021 22:51:02'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 22:51:02'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'JA 5/31/2021 22:53:44' prior: 50865398!
test21

	|portfolio report |
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	report :=portfolio accountSummaryReport.
	
	self assert: 5 equals: report size.
	self assert: 'Balance = 200' equals: report last.
	report removeLast.	
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.! !

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'JA 5/31/2021 22:53:45'!
PASSED!

----QUIT----(31 May 2021 22:54:03) CuisUniversity-4532.image priorSource: 17071394!

----STARTUP---- (31 May 2021 22:54:27) as /home/julian/facu/ingenieria1/ambientesCuis/Portfolio/CuisUniversity-4532.image!


----QUIT----(31 May 2021 22:54:38) CuisUniversity-4532.image priorSource: 17086407!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:00:55'!
test06
	| account |
	account := ReceptiveAccount new.
		
	self should:[Transfer from:account to:account amount: 100.]
	raise: Error 
	withExceptionDo: [ :anError | self assert: anError messageText equals: (Transfer canNotTransferToTheSameAccount) ].
	! !

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 01:01:00'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:02:07' prior: 50991559!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount 
	
	
	anAmount <= 0 ifTrue: [self error: self canNotTransferWithInvalidAmount].
	
	aReceptiveAccountOrigin = aReceptiveAccountDestiny ifTrue: [self error: self canNotTransferToTheSameAccount].
	
	
	^ self new initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount.! !

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 01:02:26'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:02:56'!
canNotTransferToTheSameAccount
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:03:34' prior: 50991604!
canNotTransferToTheSameAccount
	
	^'No podes transferir de una cuenta a la misma cuenta'.! !

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 01:03:36'!
FAILURE!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 01:03:40'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:06:34'!
test14

	| account |
	
	account := ReceptiveAccount new.
	
	self assert: 0 equals: account transferNetReport.
! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 01:37:23'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:37:35'!
transferNetReport
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:37:46' prior: 50991642!
transferNetReport
	^0.! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 01:37:49'!
PASSED!

-100!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:41:29'!
test15

	| accountDestino accountOrigen |
	
	accountDestino := ReceptiveAccount new.
	accountOrigen := ReceptiveAccount new.
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: accountDestino transferNetReport.
	self assert: -100 equals: accountOrigen transferNetReport.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 01:41:33'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:42:07' prior: 50991697!
test15

	| accountDestino accountOrigen |
	
	accountDestino := ReceptiveAccount new.
	accountOrigen := ReceptiveAccount new.
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: (accountDestino transferNetReport).
	self assert: -100 equals: accountOrigen transferNetReport.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:42:25' prior: 50991713!
test15

	| accountDestino accountOrigen |
	
	accountDestino := ReceptiveAccount new.
	accountOrigen := ReceptiveAccount new.
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: accountDestino transferNetReport.
	self assert: -100 equals: accountOrigen transferNetReport.
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:45:21' prior: 50991647!
transferNetReport
	|net|
	net := 0.
	transactions do: [:transaction |
		(transaction isKindOf: TransferDeposit) ifTrue: [net := net + transaction value] ifFalse: [net := net - transaction value]
		].
	
	^net.! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 01:45:26'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:46:21'!
test16

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100  on: account. 
	
	self assert: 0 equals: account transferNetReport.
! !

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 01:46:23'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:47:03' prior: 50991739!
transferNetReport
	|net|
	net := 0.
	transactions do: [:transaction |
		(transaction isKindOf: TransferDeposit) ifTrue: [net := net + transaction value].
		(transaction isKindOf: TransferWithdraw) ifTrue: [net := net - transaction value]
		].
	
	^net.! !

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 01:47:05'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:48:19'!
test22

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio transferNetReport.
! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:48:20'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:48:31'!
transferNetReport
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:49:32' prior: 50991879!
transferNetReport
	^0.! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:49:35'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 01:49:37'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:49:37'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 01:51:52' prior: 50991870!
test22

	| portfolio accountOrigen accountDestino|
	
	portfolio := Portfolio new.
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	portfolio addFinancialEntity: accountDestino.
	
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: portfolio transferNetReport.
! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:51:53'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 01:53:21' prior: 50991884!
transferNetReport
	^financialEntities sum: [:aFinancialEntity | aFinancialEntity transferNetReport ] ifEmpty:[0].! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 01:53:36'!
PASSED!

Object subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 01:56:38'!
Object subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummaryReport class methodsFor: 'no messages' stamp: 'ET 6/2/2021 02:07:00'!
for: aFinancialEntity

	^aFinancialEntity accountSummaryReport.

	! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:07:39' prior: 50990880!
test08

	| account |
	
	account := ReceptiveAccount new.
	
	self assert: (AccountSummaryReport for: account)  includes: 'Balance = 0'
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:07:40'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:07:52' prior: 50990887!
test09

	| account |
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account. 
	
	self assert: (AccountSummaryReport for: account) includes: 'Depsito por 100'
! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:07:53'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:08:00' prior: 50990895!
test10

	| account |
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: (AccountSummaryReport for: account) includes: 'Extraccin por 50'
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:08:01'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:08:13' prior: 50990903!
test11

	| account |
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	Deposit register: 100 on: account. 
	
	self assert: (AccountSummaryReport for: account) includes: 'Extraccin por 50'.
	self assert: (AccountSummaryReport for: account) includes: 'Depsito por 100'.
	self assert: (AccountSummaryReport for: account) includes: 'Balance = 50'.! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:08:14'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:08:53' prior: 50990917!
test12

	| accountDestino accountOrigen |
	
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	
	Transfer from:accountOrigen to:accountDestino amount: 100.
	
	self assert: (AccountSummaryReport for: accountOrigen) includes: 'Salida por transferencia de 100'.
	self assert: (AccountSummaryReport for: accountDestino) includes: 'Entrada por transferencia de 100'.
	self assert: (AccountSummaryReport for: accountOrigen) includes: 'Balance = -100'.
	self assert: (AccountSummaryReport for: accountDestino) includes: 'Balance = 100'.	! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:08:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:08:55'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:09:03' prior: 50990937!
test13

	| account |
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account. 
	
	self assert: 'Balance = 100' equals: (AccountSummaryReport for: account) last .
! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:09:04'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:09:30' prior: 50990767!
test20

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: (AccountSummaryReport for: portfolio) includes: 'Balance = 0'
! !

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:09:30'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:09:31'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:09:31'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:09:41' prior: 50990774!
test21

	|portfolio report |
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	report :=(AccountSummaryReport for: portfolio).
	
	self assert: 5 equals: report size.
	self assert: 'Balance = 200' equals: report last.
	report removeLast.	
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:09:45' prior: 50992639!
test21

	|portfolio report |
	
	portfolio := self portfolioWithOneAccountWith100Deposit.
	portfolio addFinancialEntity: self receptiveAccountWith100Deposit .
	
	report := AccountSummaryReport for: portfolio.
	
	self assert: 5 equals: report size.
	self assert: 'Balance = 200' equals: report last.
	report removeLast.	
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.
	report removeLast.
	self assert: 'Balance = 100' equals: report last.
	report removeLast.
	self assert: 'Depsito por 100' equals: report last.! !

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:09:47'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:09:47'!
PASSED!
!Withdraw methodsFor: 'value' stamp: 'ET 6/2/2021 02:11:57'!
summaryReport

	^'Extraccin por ', value asString.! !
!Deposit methodsFor: 'value' stamp: 'ET 6/2/2021 02:12:30'!
summaryReport

	^'Depsito por ', value asString! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:13:18'!
summaryReport

	^'Entrada por transferencia de ', self value asString! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:13:26'!
summaryReport

	^'Salida por transferencia de ', self value asString! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:14:14' prior: 50991471!
accountSummaryReport	
	|report|
	report := OrderedCollection new.
	transactions do: [:transaction| report add: transaction summaryReport	].
	report add:('Balance = ', self balance asString).
	^ report.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:14:16'!
FAILURE!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:14:16'!
FAILURE!

transactions!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:15:51' prior: 50992777!
summaryReport

	^'Entrada por transferencia de ', self value asString! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:15:57' prior: 50992772!
summaryReport

	^'Salida por transferencia de ', self value asString! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:16:02'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:16:12'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:16:12'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:16:12'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:16:12'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:16:12'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:16:13'!
PASSED!

Object subclass: #TransferNetReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNetReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:16:54'!
Object subclass: #TransferNetReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferNetReport class methodsFor: 'no messages' stamp: 'ET 6/2/2021 02:17:23'!
for: aFinancialEntity

	^aFinancialEntity transferNetReport.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:18:01' prior: 50991633!
test14

	| account |
	
	account := ReceptiveAccount new.
	
	self assert: 0 equals: (TransferNetReport for: account).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:18:16' prior: 50991726!
test15

	| accountDestino accountOrigen |
	
	accountDestino := ReceptiveAccount new.
	accountOrigen := ReceptiveAccount new.
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: (TransferNetReport for: accountDestino).
	self assert: -100 equals: (TransferNetReport for: accountOrigen).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:18:21' prior: 50991797!
test16

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100  on: account. 
	
	self assert: 0 equals: (TransferNetReport for: account).
! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 02:18:36' prior: 50992051!
test22

	| portfolio accountOrigen accountDestino|
	
	portfolio := Portfolio new.
	accountOrigen := ReceptiveAccount new.
	accountDestino := ReceptiveAccount new.
	portfolio addFinancialEntity: accountDestino.
	
	Transfer from: accountOrigen to: accountDestino amount: 100.
	
	self assert: 100 equals: (TransferNetReport for: portfolio).
! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:18:38'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:18:39'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:18:39'!
PASSED!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:19:46'!
transferNetReport

	^self value.! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:20:01' prior: 50992943!
summaryReport

	^self value negated.! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:15:57' prior: 50993299!
summaryReport

	^'Salida por transferencia de ', self value asString! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:20:26'!
transferNetReport

	^self value negated.! !
!Deposit methodsFor: 'value' stamp: 'ET 6/2/2021 02:20:38'!
transferNetReport

	^0! !
!Withdraw methodsFor: 'value' stamp: 'ET 6/2/2021 02:20:50'!
transferNetReport

	^0! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:21:25' prior: 50991808!
transferNetReport
	|net|
	net := 0.
	transactions do: [:transaction |
		net := net + transaction transferNetReport
		].
	
	^net.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:21:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:21:40'!
PASSED!
!AccountSummaryReport methodsFor: 'no messages' stamp: 'ET 6/2/2021 02:23:17'!
reportAccount: aReceptiveAccount

	|report|
	report := OrderedCollection new.
	aReceptiveAccount transactions do: [:transaction| report add: transaction summaryReport	].
	report add:('Balance = ', aReceptiveAccount balance asString).
	^ report.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:23:48' prior: 50992783!
accountSummaryReport	
	
	^AccountSummaryReport reportAccount: self.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:23:56'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:23:57'!
ERROR!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:23:57'!
PASSED!

!methodRemoval: AccountSummaryReport #reportAccount: stamp: 'ET 6/2/2021 02:24:29'!
reportAccount: aReceptiveAccount

	|report|
	report := OrderedCollection new.
	aReceptiveAccount transactions do: [:transaction| report add: transaction summaryReport	].
	report add:('Balance = ', aReceptiveAccount balance asString).
	^ report.!
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:24:39'!
reportAccount: aReceptiveAccount

	|report|
	report := OrderedCollection new.
	aReceptiveAccount transactions do: [:transaction| report add: transaction summaryReport	].
	report add:('Balance = ', aReceptiveAccount balance asString).
	^ report.
	! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:24:41'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:24:44'!
PASSED!

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Report category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:27:51'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Report subclass: #TransferNetReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNetReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:28:02'!
Report subclass: #TransferNetReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:28:10'!
Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Report class methodsFor: 'no messages' stamp: 'ET 6/2/2021 02:29:03'!
for: aFinancialEntity

	^aFinancialEntity report: self.! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:29:33'!
reportAccount: aReceptiveAccount

	self subclassResponsibility! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:29:46'!
reportPortfolio: aPortfolio

	self subclassResponsibility! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:30:29'!
reportWithdraw: aWithdrawTransaction

	self subclassResponsibility! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:30:51'!
reportDeposit: aDepositTransaction

	self subclassResponsibility! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:31:03'!
reportTransferDeposit: aTransferDepositTransaction

	self subclassResponsibility! !
!Report class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:31:13'!
reportTransferWithdraw: aTransferWithdrawTransaction

	self subclassResponsibility! !

NewClassWithInheritedAbstractMessages superclass: Report withClassName: #AccountSummaryReport!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:33:03'!
Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

NewClassWithInheritedAbstractMessages superclass: Report withClassName: #AccountSummaryReport!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:33:20'!
Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

NewClassWithInheritedAbstractMessages superclass: Report withClassName: #AccountSummaryReport!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:33:22'!
Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummaryReport category: 'Portfolio-Ejercicio' stamp: 'ET 6/2/2021 02:33:42'!
Report subclass: #AccountSummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:34:55' overrides: 50993980!
reportWithdraw: aWithdrawTransaction

	^aWithdrawTransaction summaryReport.
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:35:12' overrides: 50993985!
reportDeposit: aDepositTransaction

	^aDepositTransaction summaryReport.
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:35:37' overrides: 50993990!
reportTransferDeposit: aTransferDepositTransaction

	^aTransferDepositTransaction summaryReport.
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:35:50' overrides: 50993996!
reportTransferWithdraw: aTransferWithdrawTransaction

	^aTransferWithdrawTransaction summaryReport.
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:38:19' overrides: 50993975!
reportPortfolio: aPortfolio

	| report |
	report := aPortfolio collectionReportsOfItsFinancialEntities: self.
	report add:'Balance = ', aPortfolio balance asString.
	^ report.! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:38:54' prior: 50993636 overrides: 50993970!
reportAccount: aReceptiveAccount

	|report|
	report := aReceptiveAccount collectionReportsOfItsTransactions: self.
	report add:('Balance = ', aReceptiveAccount balance asString).
	^ report.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:40:09'!
collectionReportsOfItsFinancialEntities: aReport
	| reports |
	reports := OrderedCollection new.
	financialEntities do:[ :aFinancialEntity |
			reports addAllLast: (aFinancialEntity report: aReport).
		].
	^ reports.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:40:34'!
report: aReport

	^aReport reportPortfolio: self.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:41:10'!
report: aReport
	
	^aReport reportAccount: self.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:43:29'!
collectionReportsOfItsTransactions: aReport
	
	|reports|
	
	reports := OrderedCollection new.
	
	transactions do: [:aTransaction | reports add: (aTransaction report: aReport)].
	
	^reports.! !
!Deposit methodsFor: 'value' stamp: 'ET 6/2/2021 02:44:07'!
report: aReport

	^aReport reportDeposit: self.

	! !
!TransferDeposit methodsFor: 'initialization' stamp: 'ET 6/2/2021 02:44:18'!
report: aReport

	^aReport reportTransferDeposit: self.! !
!TransferWithdraw methodsFor: 'initialization' stamp: 'ET 6/2/2021 02:44:30'!
report: aReport

	^aReport reportTransferWithdraw: self.! !
!Withdraw methodsFor: 'initialization' stamp: 'ET 6/2/2021 02:44:39'!
report: aReport

	^aReport reportWithdraw: self.! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:45:09' prior: 50992168 overrides: 50993965!
for: aFinancialEntity

	^aFinancialEntity report: self.

	! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:46:06'!
PASSED!
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:46:38' prior: 50994056 overrides: 50993990!
reportTransferDeposit: aTransferDepositTransaction

	^'Entrada por transferencia de ', self value asString
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:46:52' prior: 50994063 overrides: 50993996!
reportTransferWithdraw: aTransferWithdrawTransaction

	^'Salida por transferencia de ', self value asString
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:47:22' prior: 50994050 overrides: 50993985!
reportDeposit: aDepositTransaction

	^'Depsito por ', aDepositTransaction value asString
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:47:30' prior: 50994286 overrides: 50993990!
reportTransferDeposit: aTransferDepositTransaction

	^'Entrada por transferencia de ', aTransferDepositTransaction value asString
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:47:35' prior: 50994294 overrides: 50993996!
reportTransferWithdraw: aTransferWithdrawTransaction

	^'Salida por transferencia de ', aTransferWithdrawTransaction value asString
	! !
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:47:49' prior: 50994043 overrides: 50993980!
reportWithdraw: aWithdrawTransaction

	^'Extraccin por ', aWithdrawTransaction value asString.
	! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:47:51'!
PASSED!

!methodRemoval: Deposit #summaryReport stamp: 'ET 6/2/2021 02:48:01'!
summaryReport

	^'Depsito por ', value asString!

!methodRemoval: TransferDeposit #summaryReport stamp: 'ET 6/2/2021 02:48:05'!
summaryReport

	^'Entrada por transferencia de ', self value asString!

!methodRemoval: TransferWithdraw #summaryReport stamp: 'ET 6/2/2021 02:48:08'!
summaryReport

	^'Salida por transferencia de ', self value asString!

!methodRemoval: Withdraw #summaryReport stamp: 'ET 6/2/2021 02:48:13'!
summaryReport

	^'Extraccin por ', value asString.!

!methodRemoval: AccountSummaryReport class #for: stamp: 'ET 6/2/2021 02:49:56'!
for: aFinancialEntity

	^aFinancialEntity report: self.

	!

!methodRemoval: TransferNetReport class #for: stamp: 'ET 6/2/2021 02:50:04'!
for: aFinancialEntity

	^aFinancialEntity transferNetReport.!
!TransferNetReport class methodsFor: 'no messages' stamp: 'ET 6/2/2021 02:50:44' overrides: 50993970!
reportAccount: aReceptiveAccount! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:50:58' overrides: 50993980!
reportWithdraw: aWithdrawTransaction! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:05' overrides: 50993985!
reportDeposit: aDepositTransaction! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:11' overrides: 50993990!
reportTransferDeposit: aTransferDepositTransaction! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:16' overrides: 50993996!
reportTransferWithdraw: aTransferDepositTransaction! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:21' prior: 50994522 overrides: 50993996!
reportTransferWithdraw: aTransferWithdrawTransaction! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:35' overrides: 50993975!
reportPortfolio: aPortfolio! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:37' prior: 50994534 overrides: 50993975!
reportPortfolio: aPortfolio! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:51:53' prior: 50994501 overrides: 50993970!
reportAccount: aReceptiveAccount! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:52:00' prior: 50994506 overrides: 50993980!
reportWithdraw: aWithdrawTransaction

	^0.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:52:06' prior: 50994539 overrides: 50993975!
reportPortfolio: aPortfolio

	^0.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:52:16' prior: 50994516 overrides: 50993990!
reportTransferDeposit: aTransferDepositTransaction

	^aTransferDepositTransaction value.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:52:30' prior: 50994528 overrides: 50993996!
reportTransferWithdraw: aTransferWithdrawTransaction

	^aTransferWithdrawTransaction value negated.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:52:43' prior: 50994511 overrides: 50993985!
reportDeposit: aDepositTransaction

	^0.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:54:27' prior: 50994544 overrides: 50993970!
reportAccount: aReceptiveAccount

	|report|
	report := aReceptiveAccount collectionReportsOfItsTransactions: self.
	^report sum: [:aTransactionReport | aTransactionReport ] ifEmpty: [0].! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 02:55:29' prior: 50994556 overrides: 50993975!
reportPortfolio: aPortfolio

	| report |
	report := aPortfolio collectionReportsOfItsFinancialEntities: self.
	^report sum: [:aFinancialEntityReport | aFinancialEntityReport] ifEmpty: [0].! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:55:31'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 02:55:31'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 02:55:31'!
ERROR!

aFinancialEntity report: aReport!
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 03:05:36' prior: 50994070 overrides: 50993975!
reportPortfolio: aPortfolio

	| finalReport reports |
	finalReport := OrderedCollection new.
	reports := aPortfolio collectionReportsOfItsFinancialEntities: self.
	reports do: [:aFinancialEntityReport | finalReport addAllLast: aFinancialEntityReport].
	
	finalReport add:'Balance = ', aPortfolio balance asString.
	^ reports.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 03:05:51' prior: 50994089!
collectionReportsOfItsFinancialEntities: aReport
	| reports |
	reports := OrderedCollection new.
	financialEntities do:[ :aFinancialEntity |
			reports add: (aFinancialEntity report: aReport).
		].
	^ reports.! !
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 03:07:21' prior: 50994593 overrides: 50993975!
reportPortfolio: aPortfolio

	| reports |
	reports := aPortfolio collectionReportsOfItsFinancialEntities: self.
	^reports sum: [:aFinancialEntityReport | aFinancialEntityReport] ifEmpty: [0].! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 03:07:23'!
FAILURE!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 03:07:23'!
FAILURE!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 03:07:23'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 03:07:34'!
FAILURE!
!AccountSummaryReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 03:07:58' prior: 50994748 overrides: 50993975!
reportPortfolio: aPortfolio

	| finalReport reports |
	finalReport := OrderedCollection new.
	reports := aPortfolio collectionReportsOfItsFinancialEntities: self.
	reports do: [:aFinancialEntityReport | finalReport addAllLast: aFinancialEntityReport].
	
	finalReport add:'Balance = ', aPortfolio balance asString.
	^ finalReport.! !

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 03:08:01'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 03:08:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 03:08:05'!
PASSED!

----SNAPSHOT----(2 June 2021 22:52:32) CuisUniversity-4532.image priorSource: 21229855!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:52:37'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) isAddedInto:
		(self coverAll:
			{134 to: 137}) ] valueCoveringAll:
		{121 to: 132}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureItDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(aPortfolio
		cover: (27 to: 36)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{38 to: 64}.! !
!Behavior method!
addAssertedFinancialEntity: aFinancialEntity
	[
	(financialEntities
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) add:
		(aFinancialEntity
			cover: (71 to: 86)
			declaredAt: (29 to: 44)) ] valueCoveringAll:
		{66 to: 69}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 22:52:37'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 22:52:37'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 22:52:37'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:52:37'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureItDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(portfolioParents
		cover: (27 to: 42)
		declaredAt: (27 to: 42)) add:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (14 to: 23)) ] valueCoveringAll:
		{44 to: 47}.
	[
	(aPortfolio
		cover: (62 to: 71)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{101 to: 104}) ] valueCoveringAll:
		{73 to: 99}.! !

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
for: aFinancialEntity
	^ [
	(aFinancialEntity
		cover: (26 to: 41)
		declaredAt: (6 to: 21)) report:
		(self coverAll:
			{51 to: 54}) ] valueCoveringAll:
		{43 to: 49}.! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportPortfolio:
		(self coverAll:
			{45 to: 48}) ] valueCoveringAll:
		{28 to: 43}.! !
!Behavior method!
reportPortfolio: aPortfolio
	| finalReport reports |
	(finalReport _ [
	(OrderedCollection
		cover: (71 to: 87)
		declaredAt: (71 to: 87)) new ] valueCoveringAll:
		{89 to: 91})
		cover: (56 to: 66)
		declaredAt: (33 to: 43).
	(reports _ [
	(aPortfolio
		cover: (106 to: 115)
		declaredAt: (18 to: 27)) collectionReportsOfItsFinancialEntities:
		(self coverAll:
			{158 to: 161}) ] valueCoveringAll:
		{117 to: 156})
		cover: (95 to: 101)
		declaredAt: (45 to: 51).
	[
	(reports
		cover: (165 to: 171)
		declaredAt: (45 to: 51)) do: [ :aFinancialEntityReport |
		[
		(finalReport
			cover: (204 to: 214)
			declaredAt: (33 to: 43)) addAllLast:
			(aFinancialEntityReport
				cover: (228 to: 249)
				declaredAt: (179 to: 200)) ] valueCoveringAll:
			{216 to: 226} ]] valueCoveringAll:
		{173 to: 175}.
	[
	(finalReport
		cover: (256 to: 266)
		declaredAt: (33 to: 43)) add:
		([
		('Balance = ' coverAll:
			{272 to: 283}) ,
			([
			([
			(aPortfolio
				cover: (286 to: 295)
				declaredAt: (18 to: 27)) balance ] valueCoveringAll:
				{297 to: 303}) asString ] valueCoveringAll:
				{305 to: 312}) ] valueCoveringAll:
			{284 to: 284}) ] valueCoveringAll:
		{268 to: 271}.
	^ finalReport
		cover: (318 to: 328)
		declaredAt: (33 to: 43).! !
!Behavior method!
collectionReportsOfItsFinancialEntities: aReport
	| reports |
	(reports _ [
	(OrderedCollection
		cover: (75 to: 91)
		declaredAt: (75 to: 91)) new ] valueCoveringAll:
		{93 to: 95})
		cover: (64 to: 70)
		declaredAt: (53 to: 59).
	[
	(financialEntities
		cover: (99 to: 115)
		declaredAt: (99 to: 115)) do: [ :aFinancialEntity |
		[
		(reports
			cover: (145 to: 151)
			declaredAt: (53 to: 59)) add:
			([
			(aFinancialEntity
				cover: (159 to: 174)
				declaredAt: (123 to: 138)) report:
				(aReport
					cover: (184 to: 190)
					declaredAt: (42 to: 48)) ] valueCoveringAll:
				{176 to: 182}) ] valueCoveringAll:
			{153 to: 156} ]] valueCoveringAll:
		{117 to: 119}.
	^ reports
		cover: (202 to: 208)
		declaredAt: (53 to: 59).! !

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (21 to: 27)
		declaredAt: (9 to: 15)) reportAccount:
		(self coverAll:
			{44 to: 47}) ] valueCoveringAll:
		{29 to: 42}.! !
!Behavior method!
reportAccount: aReceptiveAccount
	| report |
	(report _ [
	(aReceptiveAccount
		cover: (56 to: 72)
		declaredAt: (16 to: 32)) collectionReportsOfItsTransactions:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{74 to: 108})
		cover: (46 to: 51)
		declaredAt: (37 to: 42).
	[
	(report
		cover: (117 to: 122)
		declaredAt: (37 to: 42)) add:
		([
		('Balance = ' coverAll:
			{129 to: 140}) ,
			([
			([
			(aReceptiveAccount
				cover: (143 to: 159)
				declaredAt: (16 to: 32)) balance ] valueCoveringAll:
				{161 to: 167}) asString ] valueCoveringAll:
				{169 to: 176}) ] valueCoveringAll:
			{141 to: 141}) ] valueCoveringAll:
		{124 to: 127}.
	^ report
		cover: (183 to: 188)
		declaredAt: (37 to: 42).! !
!Behavior method!
collectionReportsOfItsTransactions: aReport
	| reports |
	(reports _ [
	(OrderedCollection
		cover: (72 to: 88)
		declaredAt: (72 to: 88)) new ] valueCoveringAll:
		{90 to: 92})
		cover: (61 to: 67)
		declaredAt: (49 to: 55).
	[
	(transactions
		cover: (98 to: 109)
		declaredAt: (98 to: 109)) do: [ :aTransaction |
		[
		(reports
			cover: (132 to: 138)
			declaredAt: (49 to: 55)) add:
			([
			(aTransaction
				cover: (146 to: 157)
				declaredAt: (117 to: 128)) report:
				(aReport
					cover: (167 to: 173)
					declaredAt: (37 to: 43)) ] valueCoveringAll:
				{159 to: 165}) ] valueCoveringAll:
			{140 to: 143} ]] valueCoveringAll:
		{111 to: 113}.
	^ reports
		cover: (182 to: 188)
		declaredAt: (49 to: 55).! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportDeposit:
		(self coverAll:
			{43 to: 46}) ] valueCoveringAll:
		{28 to: 41}.! !
!Behavior method!
reportDeposit: aDepositTransaction
	^ [
	('Depsito por ' coverAll:
		{39 to: 53}) ,
		([
		([
		(aDepositTransaction
			cover: (56 to: 74)
			declaredAt: (16 to: 34)) value ] valueCoveringAll:
			{76 to: 80}) asString ] valueCoveringAll:
			{82 to: 89}) ] valueCoveringAll:
		{54 to: 54}.! !
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount
	[
	([
	(anAmount
		cover: (83 to: 90)
		declaredAt: (68 to: 75)) <=
		(0 coverAll:
			{95 to: 95}) ] valueCoveringAll:
		{92 to: 93}) ifTrue: [
		[
		(self coverAll:
			{106 to: 109}) error:
			([
			(self coverAll:
				{118 to: 121}) canNotTransferWithInvalidAmount ] valueCoveringAll:
				{123 to: 153}) ] valueCoveringAll:
			{111 to: 116} ]] valueCoveringAll:
		{97 to: 103}.
	[
	([
	(aReceptiveAccountOrigin
		cover: (160 to: 182)
		declaredAt: (7 to: 29)) =
		(aReceptiveAccountDestiny
			cover: (186 to: 209)
			declaredAt: (35 to: 58)) ] valueCoveringAll:
		{184 to: 184}) ifTrue: [
		[
		(self coverAll:
			{220 to: 223}) error:
			([
			(self coverAll:
				{232 to: 235}) canNotTransferToTheSameAccount ] valueCoveringAll:
				{237 to: 266}) ] valueCoveringAll:
			{225 to: 230} ]] valueCoveringAll:
		{211 to: 217}.
	^ [
	([
	(self coverAll:
		{277 to: 280}) new ] valueCoveringAll:
		{282 to: 284})
		initializeWith:
			(aReceptiveAccountOrigin
				cover: (302 to: 324)
				declaredAt: (7 to: 29))
		and:
			(aReceptiveAccountDestiny
				cover: (331 to: 354)
				declaredAt: (35 to: 58))
		amount:
			(anAmount
				cover: (364 to: 371)
				declaredAt: (68 to: 75)) ] valueCoveringAll:
		{286 to: 300. 326 to: 329. 356 to: 362}.! !
!Behavior method!
initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount
	(amount _ anAmount
		cover: (102 to: 109)
		declaredAt: (79 to: 86))
		cover: (92 to: 97)
		declaredAt: (92 to: 97).
	(transferWithdraw _ [
	(TransferWithdraw
		cover: (134 to: 149)
		declaredAt: (134 to: 149))
		for:
			(self coverAll:
				{156 to: 159})
		on:
			(aReceptiveAccountOrigin
				cover: (165 to: 187)
				declaredAt: (17 to: 39)) ] valueCoveringAll:
		{151 to: 154. 161 to: 163})
		cover: (114 to: 129)
		declaredAt: (114 to: 129).
	(transferDeposit _ [
	(TransferDeposit
		cover: (210 to: 224)
		declaredAt: (210 to: 224))
		for:
			(self coverAll:
				{231 to: 234})
		on:
			(aReceptiveAccountDestiny
				cover: (240 to: 263)
				declaredAt: (46 to: 69)) ] valueCoveringAll:
		{226 to: 229. 236 to: 238})
		cover: (191 to: 205)
		declaredAt: (191 to: 205).
	[
	(aReceptiveAccountOrigin
		cover: (267 to: 289)
		declaredAt: (17 to: 39)) register:
		(transferWithdraw
			cover: (301 to: 316)
			declaredAt: (114 to: 129)) ] valueCoveringAll:
		{291 to: 299}.
	[
	(aReceptiveAccountDestiny
		cover: (320 to: 343)
		declaredAt: (46 to: 69)) register:
		(transferDeposit
			cover: (355 to: 369)
			declaredAt: (191 to: 205)) ] valueCoveringAll:
		{345 to: 353}.! !
!Behavior method!
for: aTransfer on: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{42 to: 45}) new ] valueCoveringAll:
		{47 to: 49})
		initializeFor:
			(aTransfer
				cover: (66 to: 74)
				declaredAt: (6 to: 14))
		on:
			(aReceptiveAccount
				cover: (80 to: 96)
				declaredAt: (20 to: 36)) ] valueCoveringAll:
		{51 to: 64. 76 to: 78}.! !
!Behavior method!
initializeFor: aTransfer on: aReceptiveAccount
	(transfer _ aTransfer
		cover: (64 to: 72)
		declaredAt: (16 to: 24))
		cover: (52 to: 59)
		declaredAt: (52 to: 59).
	(receptiveAccount _ aReceptiveAccount
		cover: (96 to: 112)
		declaredAt: (30 to: 46))
		cover: (76 to: 91)
		declaredAt: (76 to: 91).! !
!Behavior method!
for: aTransfer on: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{43 to: 46}) new ] valueCoveringAll:
		{48 to: 50})
		initializeFor:
			(aTransfer
				cover: (67 to: 75)
				declaredAt: (6 to: 14))
		on:
			(aReceptiveAccount
				cover: (81 to: 97)
				declaredAt: (20 to: 36)) ] valueCoveringAll:
		{52 to: 65. 77 to: 79}.! !
!Behavior method!
initializeFor: aTransfer on: aReceptiveAccount
	(transfer _ aTransfer
		cover: (64 to: 72)
		declaredAt: (16 to: 24))
		cover: (52 to: 59)
		declaredAt: (52 to: 59).
	(receptiveAccount _ aReceptiveAccount
		cover: (96 to: 112)
		declaredAt: (30 to: 46))
		cover: (76 to: 91)
		declaredAt: (76 to: 91).! !
!Behavior method!
reportPortfolio: aPortfolio
	| reports |
	(reports _ [
	(aPortfolio
		cover: (55 to: 64)
		declaredAt: (18 to: 27)) collectionReportsOfItsFinancialEntities:
		(self coverAll:
			{107 to: 110}) ] valueCoveringAll:
		{66 to: 105})
		cover: (44 to: 50)
		declaredAt: (33 to: 39).
	^ [
	(reports
		cover: (115 to: 121)
		declaredAt: (33 to: 39))
		sum: [ :aFinancialEntityReport |
			aFinancialEntityReport
				cover: (155 to: 176)
				declaredAt: (130 to: 151) ]
		ifEmpty: [
			0 coverAll:
				{189 to: 189} ]] valueCoveringAll:
		{123 to: 126. 179 to: 186}.! !
!Behavior method!
reportAccount: aReceptiveAccount
	| report |
	(report _ [
	(aReceptiveAccount
		cover: (56 to: 72)
		declaredAt: (16 to: 32)) collectionReportsOfItsTransactions:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{74 to: 108})
		cover: (46 to: 51)
		declaredAt: (37 to: 42).
	^ [
	(report
		cover: (118 to: 123)
		declaredAt: (37 to: 42))
		sum: [ :aTransactionReport |
			aTransactionReport
				cover: (153 to: 170)
				declaredAt: (132 to: 149) ]
		ifEmpty: [
			0 coverAll:
				{184 to: 184} ]] valueCoveringAll:
		{125 to: 128. 174 to: 181}.! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportTransferDeposit:
		(self coverAll:
			{51 to: 54}) ] valueCoveringAll:
		{28 to: 49}.! !
!Behavior method!
reportTransferDeposit: aTransferDepositTransaction
	^ [
	(aTransferDepositTransaction
		cover: (55 to: 81)
		declaredAt: (24 to: 50)) value ] valueCoveringAll:
		{83 to: 87}.! !
!Behavior method!
value
	^ [
	(transfer
		cover: (10 to: 17)
		declaredAt: (10 to: 17)) amount ] valueCoveringAll:
		{19 to: 24}.! !
!Behavior method!
amount
	^ amount
		cover: (12 to: 17)
		declaredAt: (12 to: 17).! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 22:52:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 22:52:38'!
PASSED!
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportWithdraw:
		(self coverAll:
			{44 to: 47}) ] valueCoveringAll:
		{28 to: 42}.! !
!Behavior method!
reportWithdraw: aWithdrawTransaction
	^ [
	('Extraccin por ' coverAll:
		{41 to: 57}) ,
		([
		([
		(aWithdrawTransaction
			cover: (60 to: 79)
			declaredAt: (17 to: 36)) value ] valueCoveringAll:
			{81 to: 85}) asString ] valueCoveringAll:
			{87 to: 94}) ] valueCoveringAll:
		{58 to: 58}.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportTransferWithdraw:
		(self coverAll:
			{52 to: 55}) ] valueCoveringAll:
		{28 to: 50}.! !
!Behavior method!
reportTransferWithdraw: aTransferWithdrawTransaction
	^ [
	('Salida por transferencia de ' coverAll:
		{57 to: 86}) ,
		([
		([
		(aTransferWithdrawTransaction
			cover: (89 to: 116)
			declaredAt: (25 to: 52)) value ] valueCoveringAll:
			{118 to: 122}) asString ] valueCoveringAll:
			{124 to: 131}) ] valueCoveringAll:
		{87 to: 87}.! !
!Behavior method!
value
	^ [
	(transfer
		cover: (10 to: 17)
		declaredAt: (10 to: 17)) amount ] valueCoveringAll:
		{19 to: 24}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		([
		(transfer
			cover: (39 to: 46)
			declaredAt: (39 to: 46)) amount ] valueCoveringAll:
			{48 to: 53}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
reportTransferDeposit: aTransferDepositTransaction
	^ [
	('Entrada por transferencia de ' coverAll:
		{55 to: 85}) ,
		([
		([
		(aTransferDepositTransaction
			cover: (88 to: 114)
			declaredAt: (24 to: 50)) value ] valueCoveringAll:
			{116 to: 120}) asString ] valueCoveringAll:
			{122 to: 129}) ] valueCoveringAll:
		{86 to: 86}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		([
		(transfer
			cover: (39 to: 46)
			declaredAt: (39 to: 46)) amount ] valueCoveringAll:
			{48 to: 53}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
reportTransferWithdraw: aTransferWithdrawTransaction
	^ [
	([
	(aTransferWithdrawTransaction
		cover: (57 to: 84)
		declaredAt: (25 to: 52)) value ] valueCoveringAll:
		{86 to: 90}) negated ] valueCoveringAll:
		{92 to: 98}.! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
reportDeposit: aDepositTransaction
	^ 0 coverAll:
		{39 to: 39}.! !

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
canNotTransferWithInvalidAmount
	^ 'No se puede transferir con monto no positivo' coverAll:
		{36 to: 81}.! !

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
withdraw
	^ transferWithdraw
		cover: (13 to: 28)
		declaredAt: (13 to: 28).! !
!Behavior method!
deposit
	^ transferDeposit
		cover: (12 to: 26)
		declaredAt: (12 to: 26).! !

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
transfer
	^ transfer
		cover: (14 to: 21)
		declaredAt: (14 to: 21).! !
!Behavior method!
transfer
	^ transfer
		cover: (13 to: 20)
		declaredAt: (13 to: 20).! !

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!
!Behavior method!
canNotTransferToTheSameAccount
	^ 'No podes transferir de una cuenta a la misma cuenta' coverAll:
		{36 to: 88}.! !

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 22:52:39'!
PASSED!

!methodRemoval: Deposit #transferNetReport stamp: 'ET 6/2/2021 22:52:56'!
transferNetReport

	^0!

!methodRemoval: TransferDeposit #transferNetReport stamp: 'ET 6/2/2021 22:53:02'!
transferNetReport

	^self value.!

!methodRemoval: TransferWithdraw #transferNetReport stamp: 'ET 6/2/2021 22:53:08'!
transferNetReport

	^self value negated.!

!methodRemoval: Withdraw #transferNetReport stamp: 'ET 6/2/2021 22:53:14'!
transferNetReport

	^0!

!methodRemoval: Portfolio #accountSummaryReport stamp: 'ET 6/2/2021 22:53:28'!
accountSummaryReport	
	| report |
	report := OrderedCollection new.
	financialEntities do:[ :aFinancialEntity |
			report addAllLast: aFinancialEntity accountSummaryReport .
		].
	report add:'Balance = ', self balance asString.
	^ report.!

!methodRemoval: Portfolio #transferNetReport stamp: 'ET 6/2/2021 22:53:38'!
transferNetReport
	^financialEntities sum: [:aFinancialEntity | aFinancialEntity transferNetReport ] ifEmpty:[0].!

!methodRemoval: ReceptiveAccount #transferNetReport stamp: 'ET 6/2/2021 22:53:46'!
transferNetReport
	|net|
	net := 0.
	transactions do: [:transaction |
		net := net + transaction transferNetReport
		].
	
	^net.!

!methodRemoval: Transfer #initializeWith:and: stamp: 'ET 6/2/2021 22:54:04'!
initializeWith: aTransferDeposit and: aTransferWithdraw 
	transferDeposit := aTransferDeposit.
	transferWithdraw := aTransferWithdraw.!

!methodRemoval: ReceptiveAccount #accountSummaryReport stamp: 'ET 6/2/2021 22:54:50'!
accountSummaryReport	
	
	^AccountSummaryReport reportAccount: self.!
!Behavior method!
initialize
	(financialEntities _ [
	(OrderedCollection
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{53 to: 55})
		cover: (14 to: 30)
		declaredAt: (14 to: 30).
	(portfolioParents _ [
	(OrderedCollection
		cover: (79 to: 95)
		declaredAt: (35 to: 51)) new ] valueCoveringAll:
		{97 to: 99})
		cover: (59 to: 74)
		declaredAt: (59 to: 74).! !
!Behavior method!
balance
	^ [
	(financialEntities
		cover: (14 to: 30)
		declaredAt: (14 to: 30))
		sum: [ :aFinancialEntity |
			[
			(aFinancialEntity
				cover: (58 to: 73)
				declaredAt: (39 to: 54)) balance ] valueCoveringAll:
				{75 to: 81} ]
		ifEmpty: [
			0 coverAll:
				{94 to: 94} ]] valueCoveringAll:
		{32 to: 35. 84 to: 91}.! !

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:55:13'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (122 to: 132)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addFinancialEntity: aFinancialEntity
	[
	(self coverAll:
		{40 to: 43}) assertFinancialEntityHasNotBeenAdded:
		(aFinancialEntity
			cover: (83 to: 98)
			declaredAt: (21 to: 36)) ] valueCoveringAll:
		{45 to: 81}.
	[
	(aFinancialEntity
		cover: (104 to: 119)
		declaredAt: (21 to: 36)) isAddedInto:
		(self coverAll:
			{134 to: 137}) ] valueCoveringAll:
		{121 to: 132}.! !
!Behavior method!
assertFinancialEntityHasNotBeenAdded: aFinancialEntity
	[
	(portfolioParents
		cover: (58 to: 73)
		declaredAt: (58 to: 73))
		ifEmpty: [
			[
			(aFinancialEntity
				cover: (85 to: 100)
				declaredAt: (39 to: 54)) ensureItDoesntHaveAnythingOn:
				(self coverAll:
					{132 to: 135}) ] valueCoveringAll:
				{102 to: 130} ]
		ifNotEmpty: [
			[
			(portfolioParents
				cover: (152 to: 167)
				declaredAt: (58 to: 73)) do: [ :aPortfolio |
				[
				(aPortfolio
					cover: (188 to: 197)
					declaredAt: (175 to: 184)) assertFinancialEntityHasNotBeenAdded:
					(aFinancialEntity
						cover: (237 to: 252)
						declaredAt: (39 to: 54)) ] valueCoveringAll:
					{199 to: 235} ]] valueCoveringAll:
				{169 to: 171} ]] valueCoveringAll:
		{75 to: 82. 139 to: 149}.! !
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65}) ifTrue: [
		[
		(self coverAll:
			{82 to: 85}) error:
			([
			([
			(self coverAll:
				{94 to: 97}) class ] valueCoveringAll:
				{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
				{105 to: 140}) ] valueCoveringAll:
			{87 to: 92} ]] valueCoveringAll:
		{73 to: 79}.! !
!Behavior method!
includes: aFinancialEntity
	^ [
	([
	(aFinancialEntity
		cover: (33 to: 48)
		declaredAt: (11 to: 26)) =
		(self coverAll:
			{53 to: 56}) ] valueCoveringAll:
		{51 to: 51}) or: [
		[
		(financialEntities
			cover: (64 to: 80)
			declaredAt: (64 to: 80)) anySatisfy: [ :financialEntity |
			[
			(financialEntity
				cover: (114 to: 128)
				declaredAt: (96 to: 110)) includes:
				(aFinancialEntity
					cover: (140 to: 155)
					declaredAt: (11 to: 26)) ] valueCoveringAll:
				{130 to: 138} ]] valueCoveringAll:
			{82 to: 92} ]] valueCoveringAll:
		{59 to: 61}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(aPortfolio
		cover: (27 to: 36)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{66 to: 69}) ] valueCoveringAll:
		{38 to: 64}.! !
!Behavior method!
addAssertedFinancialEntity: aFinancialEntity
	[
	(financialEntities
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) add:
		(aFinancialEntity
			cover: (71 to: 86)
			declaredAt: (29 to: 44)) ] valueCoveringAll:
		{66 to: 69}.! !
!Behavior method!
balance
	^ [
	(transactions
		cover: (12 to: 23)
		declaredAt: (12 to: 23))
		inject:
			(0 coverAll:
				{33 to: 33})
		into: [ :balance :aTransaction |
			[
			(aTransaction
				cover: (68 to: 79)
				declaredAt: (52 to: 63)) modifiesBalance:
				(balance
					cover: (98 to: 104)
					declaredAt: (43 to: 49)) ] valueCoveringAll:
				{81 to: 96} ]] valueCoveringAll:
		{25 to: 31. 35 to: 39}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 22:55:13'!
PASSED!
!Behavior method!
includes: aFinancialEntity
	^ [
	(self coverAll:
		{31 to: 34}) =
		(aFinancialEntity
			cover: (38 to: 53)
			declaredAt: (11 to: 26)) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 22:55:13'!
PASSED!
!Behavior method!
hasRegistered: aTransaction
	^ [
	(financialEntities
		cover: (35 to: 51)
		declaredAt: (35 to: 51)) anySatisfy: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (86 to: 101)
			declaredAt: (67 to: 82)) hasRegistered:
			(aTransaction
				cover: (118 to: 129)
				declaredAt: (16 to: 27)) ] valueCoveringAll:
			{103 to: 116} ]] valueCoveringAll:
		{53 to: 63}.! !
!Behavior method!
hasRegistered: aTransaction
	^ [
	(transactions
		cover: (33 to: 44)
		declaredAt: (33 to: 44)) includes:
		(aTransaction
			cover: (56 to: 67)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{46 to: 54}.! !

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
transactions
	| transactions |
	(transactions _ [
	(OrderedCollection
		cover: (48 to: 64)
		declaredAt: (48 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (32 to: 43)
		declaredAt: (17 to: 28).
	[
	(self coverAll:
		{72 to: 75}) putAllTransactionsInto:
		(transactions
			cover: (101 to: 112)
			declaredAt: (17 to: 28)) ] valueCoveringAll:
		{77 to: 99}.
	^ transactions
		cover: (119 to: 130)
		declaredAt: (17 to: 28).! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(financialEntities
		cover: (52 to: 68)
		declaredAt: (52 to: 68)) do: [ :aFinancialEntity |
		[
		(aFinancialEntity
			cover: (95 to: 110)
			declaredAt: (76 to: 91)) putAllTransactionsInto:
			(aTransactionsCollection
				cover: (136 to: 158)
				declaredAt: (25 to: 47)) ] valueCoveringAll:
			{112 to: 134} ]] valueCoveringAll:
		{70 to: 72}.! !
!Behavior method!
putAllTransactionsInto: aTransactionsCollection
	[
	(aTransactionsCollection
		cover: (52 to: 74)
		declaredAt: (25 to: 47)) addAllFirst:
		([
		(self coverAll:
			{90 to: 93}) transactions ] valueCoveringAll:
			{95 to: 106}) ] valueCoveringAll:
		{76 to: 87}.! !
!Behavior method!
transactions
	^ [
	(transactions
		cover: (19 to: 30)
		declaredAt: (19 to: 30)) copy ] valueCoveringAll:
		{32 to: 35}.! !

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
ensureItDoesntHaveAnythingOn: aPortfolio
	[
	([
	(aPortfolio
		cover: (46 to: 55)
		declaredAt: (31 to: 40)) includes:
		(self coverAll:
			{67 to: 70}) ] valueCoveringAll:
		{57 to: 65})
		ifTrue: [
			[
			(self coverAll:
				{82 to: 85}) error:
				([
				([
				(self coverAll:
					{94 to: 97}) class ] valueCoveringAll:
					{99 to: 103}) canNotAddAlreadyAddedFinancialEntity ] valueCoveringAll:
					{105 to: 140}) ] valueCoveringAll:
				{87 to: 92} ]
		ifFalse: [
			[
			(financialEntities
				cover: (157 to: 173)
				declaredAt: (157 to: 173)) do: [ :aFinancialEntity |
				[
				(aFinancialEntity
					cover: (200 to: 215)
					declaredAt: (181 to: 196)) ensureItDoesntHaveAnythingOn:
					(aPortfolio
						cover: (247 to: 256)
						declaredAt: (31 to: 40)) ] valueCoveringAll:
					{217 to: 245} ]] valueCoveringAll:
				{175 to: 177} ]] valueCoveringAll:
		{73 to: 79. 144 to: 151}.! !
!Behavior method!
isAddedInto: aPortfolio
	[
	(portfolioParents
		cover: (27 to: 42)
		declaredAt: (27 to: 42)) add:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (14 to: 23)) ] valueCoveringAll:
		{44 to: 47}.
	[
	(aPortfolio
		cover: (62 to: 71)
		declaredAt: (14 to: 23)) addAssertedFinancialEntity:
		(self coverAll:
			{101 to: 104}) ] valueCoveringAll:
		{73 to: 99}.! !

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
canNotAddAlreadyAddedFinancialEntity
	^ 'This financial entity has been added in this structure before!!!!' coverAll:
		{42 to: 106}.! !

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 22:55:14'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
for: aFinancialEntity
	^ [
	(aFinancialEntity
		cover: (26 to: 41)
		declaredAt: (6 to: 21)) report:
		(self coverAll:
			{51 to: 54}) ] valueCoveringAll:
		{43 to: 49}.! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportPortfolio:
		(self coverAll:
			{45 to: 48}) ] valueCoveringAll:
		{28 to: 43}.! !
!Behavior method!
reportPortfolio: aPortfolio
	| finalReport reports |
	(finalReport _ [
	(OrderedCollection
		cover: (71 to: 87)
		declaredAt: (71 to: 87)) new ] valueCoveringAll:
		{89 to: 91})
		cover: (56 to: 66)
		declaredAt: (33 to: 43).
	(reports _ [
	(aPortfolio
		cover: (106 to: 115)
		declaredAt: (18 to: 27)) collectionReportsOfItsFinancialEntities:
		(self coverAll:
			{158 to: 161}) ] valueCoveringAll:
		{117 to: 156})
		cover: (95 to: 101)
		declaredAt: (45 to: 51).
	[
	(reports
		cover: (165 to: 171)
		declaredAt: (45 to: 51)) do: [ :aFinancialEntityReport |
		[
		(finalReport
			cover: (204 to: 214)
			declaredAt: (33 to: 43)) addAllLast:
			(aFinancialEntityReport
				cover: (228 to: 249)
				declaredAt: (179 to: 200)) ] valueCoveringAll:
			{216 to: 226} ]] valueCoveringAll:
		{173 to: 175}.
	[
	(finalReport
		cover: (256 to: 266)
		declaredAt: (33 to: 43)) add:
		([
		('Balance = ' coverAll:
			{272 to: 283}) ,
			([
			([
			(aPortfolio
				cover: (286 to: 295)
				declaredAt: (18 to: 27)) balance ] valueCoveringAll:
				{297 to: 303}) asString ] valueCoveringAll:
				{305 to: 312}) ] valueCoveringAll:
			{284 to: 284}) ] valueCoveringAll:
		{268 to: 271}.
	^ finalReport
		cover: (318 to: 328)
		declaredAt: (33 to: 43).! !
!Behavior method!
collectionReportsOfItsFinancialEntities: aReport
	| reports |
	(reports _ [
	(OrderedCollection
		cover: (75 to: 91)
		declaredAt: (75 to: 91)) new ] valueCoveringAll:
		{93 to: 95})
		cover: (64 to: 70)
		declaredAt: (53 to: 59).
	[
	(financialEntities
		cover: (99 to: 115)
		declaredAt: (99 to: 115)) do: [ :aFinancialEntity |
		[
		(reports
			cover: (145 to: 151)
			declaredAt: (53 to: 59)) add:
			([
			(aFinancialEntity
				cover: (159 to: 174)
				declaredAt: (123 to: 138)) report:
				(aReport
					cover: (184 to: 190)
					declaredAt: (42 to: 48)) ] valueCoveringAll:
				{176 to: 182}) ] valueCoveringAll:
			{153 to: 156} ]] valueCoveringAll:
		{117 to: 119}.
	^ reports
		cover: (202 to: 208)
		declaredAt: (53 to: 59).! !

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (21 to: 27)
		declaredAt: (9 to: 15)) reportAccount:
		(self coverAll:
			{44 to: 47}) ] valueCoveringAll:
		{29 to: 42}.! !
!Behavior method!
reportAccount: aReceptiveAccount
	| report |
	(report _ [
	(aReceptiveAccount
		cover: (56 to: 72)
		declaredAt: (16 to: 32)) collectionReportsOfItsTransactions:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{74 to: 108})
		cover: (46 to: 51)
		declaredAt: (37 to: 42).
	[
	(report
		cover: (117 to: 122)
		declaredAt: (37 to: 42)) add:
		([
		('Balance = ' coverAll:
			{129 to: 140}) ,
			([
			([
			(aReceptiveAccount
				cover: (143 to: 159)
				declaredAt: (16 to: 32)) balance ] valueCoveringAll:
				{161 to: 167}) asString ] valueCoveringAll:
				{169 to: 176}) ] valueCoveringAll:
			{141 to: 141}) ] valueCoveringAll:
		{124 to: 127}.
	^ report
		cover: (183 to: 188)
		declaredAt: (37 to: 42).! !
!Behavior method!
collectionReportsOfItsTransactions: aReport
	| reports |
	(reports _ [
	(OrderedCollection
		cover: (72 to: 88)
		declaredAt: (72 to: 88)) new ] valueCoveringAll:
		{90 to: 92})
		cover: (61 to: 67)
		declaredAt: (49 to: 55).
	[
	(transactions
		cover: (98 to: 109)
		declaredAt: (98 to: 109)) do: [ :aTransaction |
		[
		(reports
			cover: (132 to: 138)
			declaredAt: (49 to: 55)) add:
			([
			(aTransaction
				cover: (146 to: 157)
				declaredAt: (117 to: 128)) report:
				(aReport
					cover: (167 to: 173)
					declaredAt: (37 to: 43)) ] valueCoveringAll:
				{159 to: 165}) ] valueCoveringAll:
			{140 to: 143} ]] valueCoveringAll:
		{111 to: 113}.
	^ reports
		cover: (182 to: 188)
		declaredAt: (49 to: 55).! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportDeposit:
		(self coverAll:
			{43 to: 46}) ] valueCoveringAll:
		{28 to: 41}.! !
!Behavior method!
reportDeposit: aDepositTransaction
	^ [
	('Depsito por ' coverAll:
		{39 to: 53}) ,
		([
		([
		(aDepositTransaction
			cover: (56 to: 74)
			declaredAt: (16 to: 34)) value ] valueCoveringAll:
			{76 to: 80}) asString ] valueCoveringAll:
			{82 to: 89}) ] valueCoveringAll:
		{54 to: 54}.! !
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 22:55:14'!
PASSED!
!Behavior method!
from: aReceptiveAccountOrigin to: aReceptiveAccountDestiny amount: anAmount
	[
	([
	(anAmount
		cover: (83 to: 90)
		declaredAt: (68 to: 75)) <=
		(0 coverAll:
			{95 to: 95}) ] valueCoveringAll:
		{92 to: 93}) ifTrue: [
		[
		(self coverAll:
			{106 to: 109}) error:
			([
			(self coverAll:
				{118 to: 121}) canNotTransferWithInvalidAmount ] valueCoveringAll:
				{123 to: 153}) ] valueCoveringAll:
			{111 to: 116} ]] valueCoveringAll:
		{97 to: 103}.
	[
	([
	(aReceptiveAccountOrigin
		cover: (160 to: 182)
		declaredAt: (7 to: 29)) =
		(aReceptiveAccountDestiny
			cover: (186 to: 209)
			declaredAt: (35 to: 58)) ] valueCoveringAll:
		{184 to: 184}) ifTrue: [
		[
		(self coverAll:
			{220 to: 223}) error:
			([
			(self coverAll:
				{232 to: 235}) canNotTransferToTheSameAccount ] valueCoveringAll:
				{237 to: 266}) ] valueCoveringAll:
			{225 to: 230} ]] valueCoveringAll:
		{211 to: 217}.
	^ [
	([
	(self coverAll:
		{277 to: 280}) new ] valueCoveringAll:
		{282 to: 284})
		initializeWith:
			(aReceptiveAccountOrigin
				cover: (302 to: 324)
				declaredAt: (7 to: 29))
		and:
			(aReceptiveAccountDestiny
				cover: (331 to: 354)
				declaredAt: (35 to: 58))
		amount:
			(anAmount
				cover: (364 to: 371)
				declaredAt: (68 to: 75)) ] valueCoveringAll:
		{286 to: 300. 326 to: 329. 356 to: 362}.! !
!Behavior method!
initializeWith: aReceptiveAccountOrigin and: aReceptiveAccountDestiny amount: anAmount
	(amount _ anAmount
		cover: (102 to: 109)
		declaredAt: (79 to: 86))
		cover: (92 to: 97)
		declaredAt: (92 to: 97).
	(transferWithdraw _ [
	(TransferWithdraw
		cover: (134 to: 149)
		declaredAt: (134 to: 149))
		for:
			(self coverAll:
				{156 to: 159})
		on:
			(aReceptiveAccountOrigin
				cover: (165 to: 187)
				declaredAt: (17 to: 39)) ] valueCoveringAll:
		{151 to: 154. 161 to: 163})
		cover: (114 to: 129)
		declaredAt: (114 to: 129).
	(transferDeposit _ [
	(TransferDeposit
		cover: (210 to: 224)
		declaredAt: (210 to: 224))
		for:
			(self coverAll:
				{231 to: 234})
		on:
			(aReceptiveAccountDestiny
				cover: (240 to: 263)
				declaredAt: (46 to: 69)) ] valueCoveringAll:
		{226 to: 229. 236 to: 238})
		cover: (191 to: 205)
		declaredAt: (191 to: 205).
	[
	(aReceptiveAccountOrigin
		cover: (267 to: 289)
		declaredAt: (17 to: 39)) register:
		(transferWithdraw
			cover: (301 to: 316)
			declaredAt: (114 to: 129)) ] valueCoveringAll:
		{291 to: 299}.
	[
	(aReceptiveAccountDestiny
		cover: (320 to: 343)
		declaredAt: (46 to: 69)) register:
		(transferDeposit
			cover: (355 to: 369)
			declaredAt: (191 to: 205)) ] valueCoveringAll:
		{345 to: 353}.! !
!Behavior method!
for: aTransfer on: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{42 to: 45}) new ] valueCoveringAll:
		{47 to: 49})
		initializeFor:
			(aTransfer
				cover: (66 to: 74)
				declaredAt: (6 to: 14))
		on:
			(aReceptiveAccount
				cover: (80 to: 96)
				declaredAt: (20 to: 36)) ] valueCoveringAll:
		{51 to: 64. 76 to: 78}.! !
!Behavior method!
initializeFor: aTransfer on: aReceptiveAccount
	(transfer _ aTransfer
		cover: (64 to: 72)
		declaredAt: (16 to: 24))
		cover: (52 to: 59)
		declaredAt: (52 to: 59).
	(receptiveAccount _ aReceptiveAccount
		cover: (96 to: 112)
		declaredAt: (30 to: 46))
		cover: (76 to: 91)
		declaredAt: (76 to: 91).! !
!Behavior method!
for: aTransfer on: aReceptiveAccount
	^ [
	([
	(self coverAll:
		{43 to: 46}) new ] valueCoveringAll:
		{48 to: 50})
		initializeFor:
			(aTransfer
				cover: (67 to: 75)
				declaredAt: (6 to: 14))
		on:
			(aReceptiveAccount
				cover: (81 to: 97)
				declaredAt: (20 to: 36)) ] valueCoveringAll:
		{52 to: 65. 77 to: 79}.! !
!Behavior method!
initializeFor: aTransfer on: aReceptiveAccount
	(transfer _ aTransfer
		cover: (64 to: 72)
		declaredAt: (16 to: 24))
		cover: (52 to: 59)
		declaredAt: (52 to: 59).
	(receptiveAccount _ aReceptiveAccount
		cover: (96 to: 112)
		declaredAt: (30 to: 46))
		cover: (76 to: 91)
		declaredAt: (76 to: 91).! !
!Behavior method!
reportPortfolio: aPortfolio
	| reports |
	(reports _ [
	(aPortfolio
		cover: (55 to: 64)
		declaredAt: (18 to: 27)) collectionReportsOfItsFinancialEntities:
		(self coverAll:
			{107 to: 110}) ] valueCoveringAll:
		{66 to: 105})
		cover: (44 to: 50)
		declaredAt: (33 to: 39).
	^ [
	(reports
		cover: (115 to: 121)
		declaredAt: (33 to: 39))
		sum: [ :aFinancialEntityReport |
			aFinancialEntityReport
				cover: (155 to: 176)
				declaredAt: (130 to: 151) ]
		ifEmpty: [
			0 coverAll:
				{189 to: 189} ]] valueCoveringAll:
		{123 to: 126. 179 to: 186}.! !
!Behavior method!
reportAccount: aReceptiveAccount
	| report |
	(report _ [
	(aReceptiveAccount
		cover: (56 to: 72)
		declaredAt: (16 to: 32)) collectionReportsOfItsTransactions:
		(self coverAll:
			{110 to: 113}) ] valueCoveringAll:
		{74 to: 108})
		cover: (46 to: 51)
		declaredAt: (37 to: 42).
	^ [
	(report
		cover: (118 to: 123)
		declaredAt: (37 to: 42))
		sum: [ :aTransactionReport |
			aTransactionReport
				cover: (153 to: 170)
				declaredAt: (132 to: 149) ]
		ifEmpty: [
			0 coverAll:
				{184 to: 184} ]] valueCoveringAll:
		{125 to: 128. 174 to: 181}.! !
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportTransferDeposit:
		(self coverAll:
			{51 to: 54}) ] valueCoveringAll:
		{28 to: 49}.! !
!Behavior method!
reportTransferDeposit: aTransferDepositTransaction
	^ [
	(aTransferDepositTransaction
		cover: (55 to: 81)
		declaredAt: (24 to: 50)) value ] valueCoveringAll:
		{83 to: 87}.! !
!Behavior method!
value
	^ [
	(transfer
		cover: (10 to: 17)
		declaredAt: (10 to: 17)) amount ] valueCoveringAll:
		{19 to: 24}.! !
!Behavior method!
amount
	^ amount
		cover: (12 to: 17)
		declaredAt: (12 to: 17).! !

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		(value
			cover: (39 to: 43)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
value
	^ value
		cover: (11 to: 15)
		declaredAt: (11 to: 15).! !

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportWithdraw:
		(self coverAll:
			{44 to: 47}) ] valueCoveringAll:
		{28 to: 42}.! !
!Behavior method!
reportWithdraw: aWithdrawTransaction
	^ [
	('Extraccin por ' coverAll:
		{41 to: 57}) ,
		([
		([
		(aWithdrawTransaction
			cover: (60 to: 79)
			declaredAt: (17 to: 36)) value ] valueCoveringAll:
			{81 to: 85}) asString ] valueCoveringAll:
			{87 to: 94}) ] valueCoveringAll:
		{58 to: 58}.! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
report: aReport
	^ [
	(aReport
		cover: (20 to: 26)
		declaredAt: (9 to: 15)) reportTransferWithdraw:
		(self coverAll:
			{52 to: 55}) ] valueCoveringAll:
		{28 to: 50}.! !
!Behavior method!
reportTransferWithdraw: aTransferWithdrawTransaction
	^ [
	('Salida por transferencia de ' coverAll:
		{57 to: 86}) ,
		([
		([
		(aTransferWithdrawTransaction
			cover: (89 to: 116)
			declaredAt: (25 to: 52)) value ] valueCoveringAll:
			{118 to: 122}) asString ] valueCoveringAll:
			{124 to: 131}) ] valueCoveringAll:
		{87 to: 87}.! !
!Behavior method!
value
	^ [
	(transfer
		cover: (10 to: 17)
		declaredAt: (10 to: 17)) amount ] valueCoveringAll:
		{19 to: 24}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) -
		([
		(transfer
			cover: (39 to: 46)
			declaredAt: (39 to: 46)) amount ] valueCoveringAll:
			{48 to: 53}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
reportTransferDeposit: aTransferDepositTransaction
	^ [
	('Entrada por transferencia de ' coverAll:
		{55 to: 85}) ,
		([
		([
		(aTransferDepositTransaction
			cover: (88 to: 114)
			declaredAt: (24 to: 50)) value ] valueCoveringAll:
			{116 to: 120}) asString ] valueCoveringAll:
			{122 to: 129}) ] valueCoveringAll:
		{86 to: 86}.! !
!Behavior method!
modifiesBalance: balance
	^ [
	(balance
		cover: (29 to: 35)
		declaredAt: (18 to: 24)) +
		([
		(transfer
			cover: (39 to: 46)
			declaredAt: (39 to: 46)) amount ] valueCoveringAll:
			{48 to: 53}) ] valueCoveringAll:
		{37 to: 37}.! !

!testRun: #ReceptiveAccountTest #test12 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
reportTransferWithdraw: aTransferWithdrawTransaction
	^ [
	([
	(aTransferWithdrawTransaction
		cover: (57 to: 84)
		declaredAt: (25 to: 52)) value ] valueCoveringAll:
		{86 to: 90}) negated ] valueCoveringAll:
		{92 to: 98}.! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
reportDeposit: aDepositTransaction
	^ 0 coverAll:
		{39 to: 39}.! !

!testRun: #ReceptiveAccountTest #test16 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
canNotTransferWithInvalidAmount
	^ 'No se puede transferir con monto no positivo' coverAll:
		{36 to: 81}.! !

!testRun: #TransferTest #test02 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
withdraw
	^ transferWithdraw
		cover: (13 to: 28)
		declaredAt: (13 to: 28).! !
!Behavior method!
deposit
	^ transferDeposit
		cover: (12 to: 26)
		declaredAt: (12 to: 26).! !

!testRun: #TransferTest #test04 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
transfer
	^ transfer
		cover: (14 to: 21)
		declaredAt: (14 to: 21).! !
!Behavior method!
transfer
	^ transfer
		cover: (13 to: 20)
		declaredAt: (13 to: 20).! !

!testRun: #TransferTest #test05 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!Behavior method!
canNotTransferToTheSameAccount
	^ 'No podes transferir de una cuenta a la misma cuenta' coverAll:
		{36 to: 88}.! !

!testRun: #TransferTest #test06 stamp: 'ET 6/2/2021 22:55:15'!
PASSED!
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 22:57:06' prior: 50999097 overrides: 50998963!
reportPortfolio: aPortfolio

	| reports |
	reports := aPortfolio collectionReportsOfItsFinancialEntities: self.
	^reports sum: [:aFinancialEntityReport | aFinancialEntityReport] ifEmpty: [20].! !
!PortfolioTest methodsFor: 'tests' stamp: 'ET 6/2/2021 22:57:39'!
test23

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: (TransferNetReport for: portfolio).
! !

!testRun: #PortfolioTest #test23 stamp: 'ET 6/2/2021 22:57:44'!
FAILURE!
!TransferNetReport class methodsFor: 'as yet unclassified' stamp: 'ET 6/2/2021 22:58:03' prior: 51001049 overrides: 50998963!
reportPortfolio: aPortfolio

	| reports |
	reports := aPortfolio collectionReportsOfItsFinancialEntities: self.
	^reports sum: [:aFinancialEntityReport | aFinancialEntityReport] ifEmpty: [0].! !

!testRun: #PortfolioTest #test23 stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test01NewPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioWithOneAccountHasTheSameBalanceAsTheAccount stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioWithTwoAccountsHasBalanceTheSumOfTheBalancesOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioRegistersTransactionsOfItsOnlyAddedAccount stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasOnlyRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioRegistersTransactionsOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioKnowsTransactionOfItsOnlyAccount stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioKnowsTransactionOfAllOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioWithEmptyPortfolioHasZeroBalance stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioWithNonEmptyPortfolioHasItsBalance stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioWithTwoPortfoliosHasBalanceTheSumOfTheBalancesOfItsPortfolios stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioWithAnAccountAndAPortfolioHasBalanceSumOfItsEntitiesBalance stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test13PortfolioWithNonEmptyPortfolioKnowsRegisteredTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test14PortfolioWithNonEmptyPortfolioKnowsTransactionsOfItsAccounts stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test15CannotAddAlreadyAddedAccount stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test16PortfolioXWithNonEmptyPortfolioYCannotAddAccountsOfItsPortfolioY stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test17CannotAddPortfolioWithAccountsAlreadyInside stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test18CannotAddAccountThatHasBeenAddedByAParentPortfolio stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test19CannotAddItself stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test21 stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test22 stamp: 'ET 6/2/2021 22:58:05'!
PASSED!

!testRun: #PortfolioTest #test23 stamp: 'ET 6/2/2021 22:58:05'!
PASSED!